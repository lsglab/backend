function e(){let e;return{c(){e=H("Submit")},l(t){e=F(t,"Submit")},m(t,s){S(t,e,s)},d(t){t&&y(e)}}}function t(t){let s,a,r,n,o,c,$,l,i,m,d,f;const u=t[7].default,p=B(u,t,t[8],null);return d=new M({props:{type:"submit",form:t[0],classes:"mt-4",$$slots:{default:[e]},$$scope:{ctx:t}}}),{c(){s=g("h5"),a=H(t[2]),r=P(),n=g("p"),o=H(t[3]),c=P(),$=g("p"),l=H(t[1]),i=P(),p&&p.c(),m=P(),h(d.$$.fragment),this.h()},l(e){var f,u,g;s=w(e,"H5",{class:!0}),f=b(s),a=F(f,t[2]),f.forEach(y),r=q(e),n=w(e,"P",{class:!0}),u=b(n),o=F(u,t[3]),u.forEach(y),c=q(e),$=w(e,"P",{class:!0}),g=b($),l=F(g,t[1]),g.forEach(y),i=q(e),p&&p.l(e),m=q(e),x(d.$$.fragment,e),this.h()},h(){E(s,"class","mb-3 text-heading"),E(n,"class","mb-3 text-xss text-heading2"),E($,"class","mb-5 text-xs text-red-500")},m(e,t){S(e,s,t),D(s,a),S(e,r,t),S(e,n,t),D(n,o),S(e,c,t),S(e,$,t),D($,l),S(e,i,t),p&&p.m(e,t),S(e,m,t),I(d,e,t),f=!0},p(e,t){(!f||4&t)&&J(a,e[2]),(!f||8&t)&&J(o,e[3]),(!f||2&t)&&J(l,e[1]),p&&p.p&&256&t&&L(p,u,e,e[8],t,null,null);const s={};1&t&&(s.form=e[0]),256&t&&(s.$$scope={dirty:t,ctx:e}),d.$set(s)},i(e){f||(j(p,e),j(d.$$.fragment,e),f=!0)},o(e){k(p,e),k(d.$$.fragment,e),f=!1},d(e){e&&y(s),e&&y(r),e&&y(n),e&&y(c),e&&y($),e&&y(i),p&&p.d(e),e&&y(m),v(d,e)}}}function s(e){let s,a,r,n;return a=new p({props:{justify:"center",align:"center",cols:"true",classes:"w-full h-full",$$slots:{default:[t]},$$scope:{ctx:e}}}),{c(){s=g("form"),h(a.$$.fragment),this.h()},l(e){s=w(e,"FORM",{class:!0,action:!0,method:!0,id:!0});var t=b(s);x(a.$$.fragment,t),t.forEach(y),this.h()},h(){E(s,"class",r="p-5 rounded-md shadow-cms-equal "+e[6]),E(s,"action",e[4]),E(s,"method",e[5]),E(s,"id",e[0])},m(e,t){S(e,s,t),I(a,s,null),n=!0},p(e,[t]){const o={};271&t&&(o.$$scope={dirty:t,ctx:e}),a.$set(o),(!n||64&t&&r!==(r="p-5 rounded-md shadow-cms-equal "+e[6]))&&E(s,"class",r),(!n||16&t)&&E(s,"action",e[4]),(!n||32&t)&&E(s,"method",e[5]),(!n||1&t)&&E(s,"id",e[0])},i(e){n||(j(a.$$.fragment,e),n=!0)},o(e){k(a.$$.fragment,e),n=!1},d(e){e&&y(s),v(a)}}}function a(e,t,s){let{$$slots:a={},$$scope:r}=t,{id:n}=t,{error:o=""}=t,{header:c}=t,{subHeader:$=""}=t,{action:l}=t,{method:i="post"}=t,{classes:m=""}=t;return e.$$set=e=>{"id"in e&&s(0,n=e.id),"error"in e&&s(1,o=e.error),"header"in e&&s(2,c=e.header),"subHeader"in e&&s(3,$=e.subHeader),"action"in e&&s(4,l=e.action),"method"in e&&s(5,i=e.method),"classes"in e&&s(6,m=e.classes),"$$scope"in e&&s(8,r=e.$$scope)},[n,o,c,$,l,i,m,a,r]}function r(){let e;return{c(){e=H("Email")},l(t){e=F(t,"Email")},m(t,s){S(t,e,s)},d(t){t&&y(e)}}}function n(){let e;return{c(){e=H("Passwort")},l(t){e=F(t,"Passwort")},m(t,s){S(t,e,s)},d(t){t&&y(e)}}}function o(){let e;return{c(){e=H("Eingeloggt bleiben")},l(t){e=F(t,"Eingeloggt bleiben")},m(t,s){S(t,e,s)},d(t){t&&y(e)}}}function c(e){let t,s,a,c,$,l;return t=new N({props:{error:e[1],classes:"mb-3",placeholder:"max.mustermann@gmail.com",type:"email",id:"email",name:"email",$$slots:{default:[r]},$$scope:{ctx:e}}}),a=new N({props:{error:e[1],classes:"mb-3",type:"password",id:"password",name:"password",$$slots:{default:[n]},$$scope:{ctx:e}}}),$=new N({props:{type:"radio",id:"remember",classes:"my-3",inputClasses:"w-8 h-4",name:"remember",labelPos:"right",required:!1,$$slots:{default:[o]},$$scope:{ctx:e}}}),{c(){h(t.$$.fragment),s=P(),h(a.$$.fragment),c=P(),h($.$$.fragment)},l(e){x(t.$$.fragment,e),s=q(e),x(a.$$.fragment,e),c=q(e),x($.$$.fragment,e)},m(e,r){I(t,e,r),S(e,s,r),I(a,e,r),S(e,c,r),I($,e,r),l=!0},p(e,s){const r={};2&s&&(r.error=e[1]),8&s&&(r.$$scope={dirty:s,ctx:e}),t.$set(r);const n={};2&s&&(n.error=e[1]),8&s&&(n.$$scope={dirty:s,ctx:e}),a.$set(n);const o={};8&s&&(o.$$scope={dirty:s,ctx:e}),$.$set(o)},i(e){l||(j(t.$$.fragment,e),j(a.$$.fragment,e),j($.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),k(a.$$.fragment,e),k($.$$.fragment,e),l=!1},d(e){v(t,e),e&&y(s),v(a,e),e&&y(c),v($,e)}}}function $(e){let t,s;return t=new Form({props:{classes:"w-64",id:"login-form",header:"Login",subHeader:"Bittle melden sie sich an",error:e[0],$$slots:{default:[c]},$$scope:{ctx:e}}}),{c(){h(t.$$.fragment)},l(e){x(t.$$.fragment,e)},m(e,a){I(t,e,a),s=!0},p(e,s){const a={};1&s&&(a.error=e[0]),10&s&&(a.$$scope={dirty:s,ctx:e}),t.$set(a)},i(e){s||(j(t.$$.fragment,e),s=!0)},o(e){k(t.$$.fragment,e),s=!1},d(e){v(t,e)}}}function l(e){let t,s;return t=new p({props:{justify:"center",align:"center",classes:"h-full",$$slots:{default:[$]},$$scope:{ctx:e}}}),{c(){h(t.$$.fragment)},l(e){x(t.$$.fragment,e)},m(e,a){I(t,e,a),s=!0},p(e,s){const a={};11&s&&(a.$$scope={dirty:s,ctx:e}),t.$set(a)},i(e){s||(j(t.$$.fragment,e),s=!0)},o(e){k(t.$$.fragment,e),s=!1},d(e){v(t,e)}}}function i(e){let t,s,a,r,n;return r=new O({props:{classes:"h-full",$$slots:{default:[l]},$$scope:{ctx:e}}}),{c(){t=g("a"),s=H("cms"),a=P(),h(r.$$.fragment),this.h()},l(e){t=w(e,"A",{href:!0,class:!0,alt:!0});var n=b(t);s=F(n,"cms"),n.forEach(y),a=q(e),x(r.$$.fragment,e),this.h()},h(){E(t,"href","/cms"),E(t,"class","hidden"),E(t,"alt","")},m(e,o){S(e,t,o),D(t,s),S(e,a,o),I(r,e,o),n=!0},p(e,[t]){const s={};11&t&&(s.$$scope={dirty:t,ctx:e}),r.$set(s)},i(e){n||(j(r.$$.fragment,e),n=!0)},o(e){k(r.$$.fragment,e),n=!1},d(e){e&&y(t),e&&y(a),v(r,e)}}}function m(e,t,s){let a="",r=!1;return A(()=>{document.getElementById("login-form").addEventListener("submit",e=>{e.preventDefault(),async function(){const e=await C("/api/auth/login","post",new FormData(document.getElementById("login-form")));400===e.status?(s(0,a=e.data.message),"invalid_credentials"===a&&(s(0,a=""),s(1,r="Ung√ºltige email Adresse oder Password"))):(s(0,a=""),s(1,r=!1),sessionStorage.clear(),localStorage.clear(),window.sessionStorage.setItem("token",e.data.token),window.sessionStorage.setItem("user",JSON.stringify(e.data.user)),!0===document.getElementById("remember").checked&&(window.localStorage.setItem("token",e.data.token),window.localStorage.setItem("user",JSON.stringify(e.data.user))),window.location.replace("/cms"))}()})}),[a,r]}import{S as d,i as f,s as u,F as p,e as g,c as h,b as w,d as b,j as x,g as y,k as E,m as S,o as I,p as j,q as k,r as v,D as B,t as H,a as P,f as F,h as q,n as D,C as J,E as L,w as O,J as A,$ as C}from"./client.b007dbf1.js";import{I as N}from"./Input.9fb47177.js";import"./time.4604e9c6.js";import{B as M}from"./Button.b1699f39.js";class Form extends d{constructor(e){super(),f(this,e,a,s,u,{id:0,error:1,header:2,subHeader:3,action:4,method:5,classes:6})}}export default class Login extends d{constructor(e){super(),f(this,e,m,i,u,{})}}
