function e(e,t,n){const l=e.slice();return l[37]=t[n],l[38]=t,l[39]=n,l}function t(e,t,n){const l=e.slice();return l[34]=t[n],l}function n(e,t,n){const l=e.slice();return l[40]=t[n],l[41]=t,l[42]=n,l}function l(e,t,n){const l=e.slice();return l[43]=t[n],l[44]=t,l[45]=n,l}function a(e,t,n){const l=e.slice();return l[31]=t[n],l[32]=t,l[33]=n,l}function o(e,t,n){const l=e.slice();return l[40]=t[n],l[46]=t,l[47]=n,l}function r(e,t,n){const l=e.slice();return l[28]=t[n],l}function s(e,t,n){const l=e.slice();return l[28]=t[n],l}function c(e){let t,n,l,a;t=new Ue({props:{classes:"w-full",align:"center",$$slots:{default:[u]},$$scope:{ctx:e}}});let o=e[2],s=[];for(let t=0;t<o.length;t+=1)s[t]=E(r(e,o,t));const c=e=>qe(s[e],1,1,()=>{s[e]=null});return{c(){Ye(t.$$.fragment),n=Ge();for(let e=0;e<s.length;e+=1)s[e].c();l=Le()},l(e){Qe(t.$$.fragment,e),n=Me(e);for(let t=0;t<s.length;t+=1)s[t].l(e);l=Le()},m(e,o){We(t,e,o),Ae(e,n,o);for(let t=0;t<s.length;t+=1)s[t].m(e,o);Ae(e,l,o),a=!0},p(e,n){const a={};if(20&n[0]|524288&n[1]&&(a.$$scope={dirty:n,ctx:e}),t.$set(a),503&n[0]){let t;for(o=e[2],t=0;t<o.length;t+=1){const a=r(e,o,t);s[t]?(s[t].p(a,n),Fe(s[t],1)):(s[t]=E(a),s[t].c(),Fe(s[t],1),s[t].m(l.parentNode,l))}for(Ve(),t=o.length;t<s.length;t+=1)c(t);He()}},i(e){if(!a){Fe(t.$$.fragment,e);for(let e=0;e<o.length;e+=1)Fe(s[e]);a=!0}},o(e){qe(t.$$.fragment,e),s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)qe(s[e]);a=!1},d(e){Ze(t,e),e&&Se(n),at(s,e),e&&Se(l)}}}function i(e){let t,n;return t=new Ue({props:{classes:"w-full p-5",align:"center",justify:"center",$$slots:{default:[k]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},l(e){Qe(t.$$.fragment,e)},m(e,l){We(t,e,l),n=!0},p(e,n){const l={};524288&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(Fe(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Ze(t,e)}}}function f(e){function t(...t){return e[11](e[28],...t)}let n,l,a,o,r,s,c=e[28].title+"";return{c(){n=je("div"),l=et(c),a=Ge(),this.h()},l(e){n=Be(e,"DIV",{style:!0,class:!0});var t=Ce(n);l=tt(t,c),a=Me(t),t.forEach(Se),this.h()},h(){ot(n,"width",100/e[2].length+"%"),Ie(n,"class",o="p-2 transition-none "+(e[28].title===e[4]?"bg-white border-cmsBtnColor":"bg-gray-100 border-gray-100")+" border-t-2 cursor-pointer text-xs font-bold text-center")},m(e,o){Ae(e,n,o),Ke(n,l),Ke(n,a),r||(s=nt(n,"click",t),r=!0)},p(t,a){e=t,4&a[0]&&c!==(c=e[28].title+"")&&lt(l,c),4&a[0]&&ot(n,"width",100/e[2].length+"%"),20&a[0]&&o!==(o="p-2 transition-none "+(e[28].title===e[4]?"bg-white border-cmsBtnColor":"bg-gray-100 border-gray-100")+" border-t-2 cursor-pointer text-xs font-bold text-center")&&Ie(n,"class",o)},d(e){e&&Se(n),r=!1,s()}}}function u(e){let t,n=e[2],l=[];for(let t=0;t<n.length;t+=1)l[t]=f(s(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=Le()},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=Le()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);Ae(e,t,n)},p(e,a){if(20&a[0]){let o;for(n=e[2],o=0;o<n.length;o+=1){const r=s(e,n,o);l[o]?l[o].p(r,a):(l[o]=f(r),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){at(l,e),e&&Se(t)}}}function d(e){let t,n,l,r,s,c,i,f,u,d,$,m=e[5],p=[];for(let t=0;t<m.length;t+=1)p[t]=h(o(e,m,t));const g=e=>qe(p[e],1,1,()=>{p[e]=null});let b=e[28].tables,v=[];for(let t=0;t<b.length;t+=1)v[t]=x(a(e,b,t));const y=e=>qe(v[e],1,1,()=>{v[e]=null});return{c(){t=je("div"),n=je("table"),l=je("thead"),r=je("th"),s=Ge(),c=je("th"),i=Ge();for(let e=0;e<p.length;e+=1)p[e].c();f=Ge(),u=je("tbody");for(let e=0;e<v.length;e+=1)v[e].c();d=Ge(),this.h()},l(e){var a,o,$,h;t=Be(e,"DIV",{class:!0}),a=Ce(t),n=Be(a,"TABLE",{class:!0}),o=Ce(n),l=Be(o,"THEAD",{}),$=Ce(l),r=Be($,"TH",{class:!0}),Ce(r).forEach(Se),s=Me($),c=Be($,"TH",{class:!0}),Ce(c).forEach(Se),i=Me($);for(let e=0;e<p.length;e+=1)p[e].l($);$.forEach(Se),f=Me(o),u=Be(o,"TBODY",{}),h=Ce(u);for(let e=0;e<v.length;e+=1)v[e].l(h);h.forEach(Se),o.forEach(Se),d=Me(a),a.forEach(Se),this.h()},h(){Ie(r,"class","svelte-b3tiz"),Ie(c,"class","svelte-b3tiz"),Ie(n,"class","w-full"),Ie(t,"class","p-4")},m(e,a){Ae(e,t,a),Ke(t,n),Ke(n,l),Ke(l,r),Ke(l,s),Ke(l,c),Ke(l,i);for(let e=0;e<p.length;e+=1)p[e].m(l,null);Ke(n,f),Ke(n,u);for(let e=0;e<v.length;e+=1)v[e].m(u,null);Ke(t,d),$=!0},p(e,t){if(291&t[0]){let n;for(m=e[5],n=0;n<m.length;n+=1){const a=o(e,m,n);p[n]?(p[n].p(a,t),Fe(p[n],1)):(p[n]=h(a),p[n].c(),Fe(p[n],1),p[n].m(l,null))}for(Ve(),n=m.length;n<p.length;n+=1)g(n);He()}if(199&t[0]){let n;for(b=e[28].tables,n=0;n<b.length;n+=1){const l=a(e,b,n);v[n]?(v[n].p(l,t),Fe(v[n],1)):(v[n]=x(l),v[n].c(),Fe(v[n],1),v[n].m(u,null))}for(Ve(),n=b.length;n<v.length;n+=1)y(n);He()}},i(e){if(!$){for(let e=0;e<m.length;e+=1)Fe(p[e]);for(let e=0;e<b.length;e+=1)Fe(v[e]);$=!0}},o(e){p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)qe(p[e]);v=v.filter(Boolean);for(let e=0;e<v.length;e+=1)qe(v[e]);$=!1},d(e){e&&Se(t),at(p,e),at(v,e)}}}function $(e){let t,n=e[40].action+"";return{c(){t=et(n)},l(e){t=tt(e,n)},m(e,n){Ae(e,t,n)},p(e,l){32&l[0]&&n!==(n=e[40].action+"")&&lt(t,n)},d(e){e&&Se(t)}}}function h(e){function t(t){e[12].call(null,t,e[40])}let n,l,a,o,r,s={id:e[40].action,readonly:e[0].getReadOnly(e[1]),labelClasses:"font-bold text-xss capitalize",type:"checkbox",labelPos:"right",$$slots:{default:[$]},$$scope:{ctx:e}};return void 0!==e[40].checked&&(s.value=e[40].checked),l=new ft({props:s}),rt.push(()=>st(l,"value",t)),l.$on("click",(function(...t){return e[13](e[40],...t)})),{c(){n=je("th"),Ye(l.$$.fragment),o=Ge(),this.h()},l(e){n=Be(e,"TH",{class:!0});var t=Ce(n);Qe(l.$$.fragment,t),o=Me(t),t.forEach(Se),this.h()},h(){Ie(n,"class","svelte-b3tiz")},m(e,t){Ae(e,n,t),We(l,n,null),Ke(n,o),r=!0},p(t,n){e=t;const o={};32&n[0]&&(o.id=e[40].action),3&n[0]&&(o.readonly=e[0].getReadOnly(e[1])),32&n[0]|524288&n[1]&&(o.$$scope={dirty:n,ctx:e}),!a&&32&n[0]&&(a=!0,o.value=e[40].checked,Xe(()=>a=!1)),l.$set(o)},i(e){r||(Fe(l.$$.fragment,e),r=!0)},o(e){qe(l.$$.fragment,e),r=!1},d(e){e&&Se(n),Ze(l)}}}function m(e){let t,n=e[31].table+"";return{c(){t=et(n)},l(e){t=tt(e,n)},m(e,n){Ae(e,t,n)},p(e,l){4&l[0]&&n!==(n=e[31].table+"")&&lt(t,n)},d(e){e&&Se(t)}}}function p(e){function t(t){e[16].call(null,t,e[43])}let n,l,a,o,r={readonly:e[0].getReadOnly(e[1]),id:"p-"+e[31].table+"-"+e[43].action,type:"checkbox"};return void 0!==e[43].checked&&(r.value=e[43].checked),l=new ft({props:r}),rt.push(()=>st(l,"value",t)),{c(){n=je("td"),Ye(l.$$.fragment),this.h()},l(e){n=Be(e,"TD",{class:!0});var t=Ce(n);Qe(l.$$.fragment,t),t.forEach(Se),this.h()},h(){Ie(n,"class","svelte-b3tiz")},m(e,t){Ae(e,n,t),We(l,n,null),o=!0},p(t,n){e=t;const o={};3&n[0]&&(o.readonly=e[0].getReadOnly(e[1])),4&n[0]&&(o.id="p-"+e[31].table+"-"+e[43].action),!a&&4&n[0]&&(a=!0,o.value=e[43].checked,Xe(()=>a=!1)),l.$set(o)},i(e){o||(Fe(l.$$.fragment,e),o=!0)},o(e){qe(l.$$.fragment,e),o=!1},d(e){e&&Se(n),Ze(l)}}}function g(e){let l,a,o,r,s,c,i,f,u,d,$,h,m,p=e[6],g=[];for(let t=0;t<p.length;t+=1)g[t]=v(n(e,p,t));const b=e=>qe(g[e],1,1,()=>{g[e]=null});let y=e[31].getEditable(),x=[];for(let n=0;n<y.length;n+=1)x[n]=w(t(e,y,n));const E=e=>qe(x[e],1,1,()=>{x[e]=null});return{c(){l=je("tr"),a=je("td"),o=Ge(),r=je("td"),s=et("Column Permissions"),c=Ge(),i=je("td"),f=Ge(),u=je("td"),d=Ge();for(let e=0;e<g.length;e+=1)g[e].c();$=Ge();for(let e=0;e<x.length;e+=1)x[e].c();h=Le(),this.h()},l(e){var t,n;l=Be(e,"TR",{}),t=Ce(l),a=Be(t,"TD",{class:!0}),Ce(a).forEach(Se),o=Me(t),r=Be(t,"TD",{class:!0}),n=Ce(r),s=tt(n,"Column Permissions"),n.forEach(Se),c=Me(t),i=Be(t,"TD",{class:!0}),Ce(i).forEach(Se),f=Me(t),u=Be(t,"TD",{class:!0}),Ce(u).forEach(Se),d=Me(t);for(let e=0;e<g.length;e+=1)g[e].l(t);t.forEach(Se),$=Me(e);for(let t=0;t<x.length;t+=1)x[t].l(e);h=Le(),this.h()},h(){Ie(a,"class","svelte-b3tiz"),Ie(r,"class","svelte-b3tiz"),Ie(i,"class","svelte-b3tiz"),Ie(u,"class","svelte-b3tiz")},m(e,t){Ae(e,l,t),Ke(l,a),Ke(l,o),Ke(l,r),Ke(r,s),Ke(l,c),Ke(l,i),Ke(l,f),Ke(l,u),Ke(l,d);for(let e=0;e<g.length;e+=1)g[e].m(l,null);Ae(e,$,t);for(let n=0;n<x.length;n+=1)x[n].m(e,t);Ae(e,h,t),m=!0},p(e,a){if(199&a[0]){let t;for(p=e[6],t=0;t<p.length;t+=1){const o=n(e,p,t);g[t]?(g[t].p(o,a),Fe(g[t],1)):(g[t]=v(o),g[t].c(),Fe(g[t],1),g[t].m(l,null))}for(Ve(),t=p.length;t<g.length;t+=1)b(t);He()}if(7&a[0]){let n;for(y=e[31].getEditable(),n=0;n<y.length;n+=1){const l=t(e,y,n);x[n]?(x[n].p(l,a),Fe(x[n],1)):(x[n]=w(l),x[n].c(),Fe(x[n],1),x[n].m(h.parentNode,h))}for(Ve(),n=y.length;n<x.length;n+=1)E(n);He()}},i(e){if(!m){for(let e=0;e<p.length;e+=1)Fe(g[e]);for(let e=0;e<y.length;e+=1)Fe(x[e]);m=!0}},o(e){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)qe(g[e]);x=x.filter(Boolean);for(let e=0;e<x.length;e+=1)qe(x[e]);m=!1},d(e){e&&Se(l),at(g,e),e&&Se($),at(x,e),e&&Se(h)}}}function b(e){let t,n=e[40].action+"";return{c(){t=et(n)},l(e){t=tt(e,n)},m(e,n){Ae(e,t,n)},p(e,l){64&l[0]&&n!==(n=e[40].action+"")&&lt(t,n)},d(e){e&&Se(t)}}}function v(e){function t(t){e[18].call(null,t,e[40])}let n,l,a,o,r,s={readonly:e[0].getReadOnly(e[1]),id:e[31].table+"-column-action-"+e[40],labelPos:"right",labelClasses:"capitalize text-xss font-bold ",type:"checkbox",$$slots:{default:[b]},$$scope:{ctx:e}};return void 0!==e[40].checked&&(s.value=e[40].checked),l=new ft({props:s}),rt.push(()=>st(l,"value",t)),l.$on("click",(function(...t){return e[19](e[40],e[31],...t)})),{c(){n=je("td"),Ye(l.$$.fragment),o=Ge(),this.h()},l(e){n=Be(e,"TD",{class:!0});var t=Ce(n);Qe(l.$$.fragment,t),o=Me(t),t.forEach(Se),this.h()},h(){Ie(n,"class","svelte-b3tiz")},m(e,t){Ae(e,n,t),We(l,n,null),Ke(n,o),r=!0},p(t,n){e=t;const o={};3&n[0]&&(o.readonly=e[0].getReadOnly(e[1])),68&n[0]&&(o.id=e[31].table+"-column-action-"+e[40]),64&n[0]|524288&n[1]&&(o.$$scope={dirty:n,ctx:e}),!a&&64&n[0]&&(a=!0,o.value=e[40].checked,Xe(()=>a=!1)),l.$set(o)},i(e){r||(Fe(l.$$.fragment,e),r=!0)},o(e){qe(l.$$.fragment,e),r=!1},d(e){e&&Se(n),Ze(l)}}}function y(e){function t(t){e[21].call(null,t,e[37])}let n,l,a,o,r={readonly:e[0].getReadOnly(e[1]),id:e[31].table+"-column-"+e[34].name,type:"checkbox"};return void 0!==e[37].checked&&(r.value=e[37].checked),l=new ft({props:r}),rt.push(()=>st(l,"value",t)),{c(){n=je("td"),Ye(l.$$.fragment),this.h()},l(e){n=Be(e,"TD",{class:!0});var t=Ce(n);Qe(l.$$.fragment,t),t.forEach(Se),this.h()},h(){Ie(n,"class","svelte-b3tiz")},m(e,t){Ae(e,n,t),We(l,n,null),o=!0},p(t,n){e=t;const o={};3&n[0]&&(o.readonly=e[0].getReadOnly(e[1])),4&n[0]&&(o.id=e[31].table+"-column-"+e[34].name),!a&&4&n[0]&&(a=!0,o.value=e[37].checked,Xe(()=>a=!1)),l.$set(o)},i(e){o||(Fe(l.$$.fragment,e),o=!0)},o(e){qe(l.$$.fragment,e),o=!1},d(e){e&&Se(n),Ze(l)}}}function w(t){function n(...e){return t[20](t[34],...e)}let l,a,o,r,s,c,i,f,u,d,$,h,m=t[34].name+"",p=t[31].column_permissions.filter(n),g=[];for(let n=0;n<p.length;n+=1)g[n]=y(e(t,p,n));const b=e=>qe(g[e],1,1,()=>{g[e]=null});return{c(){l=je("tr"),a=je("td"),o=Ge(),r=je("td"),s=et(m),c=Ge(),i=je("td"),f=Ge(),u=je("td"),d=Ge();for(let e=0;e<g.length;e+=1)g[e].c();$=Ge(),this.h()},l(e){var t,n;l=Be(e,"TR",{}),t=Ce(l),a=Be(t,"TD",{class:!0}),Ce(a).forEach(Se),o=Me(t),r=Be(t,"TD",{class:!0}),n=Ce(r),s=tt(n,m),n.forEach(Se),c=Me(t),i=Be(t,"TD",{class:!0}),Ce(i).forEach(Se),f=Me(t),u=Be(t,"TD",{class:!0}),Ce(u).forEach(Se),d=Me(t);for(let e=0;e<g.length;e+=1)g[e].l(t);$=Me(t),t.forEach(Se),this.h()},h(){Ie(a,"class","svelte-b3tiz"),Ie(r,"class","text-gray-700 svelte-b3tiz"),Ie(i,"class","svelte-b3tiz"),Ie(u,"class","svelte-b3tiz")},m(e,t){Ae(e,l,t),Ke(l,a),Ke(l,o),Ke(l,r),Ke(r,s),Ke(l,c),Ke(l,i),Ke(l,f),Ke(l,u),Ke(l,d);for(let e=0;e<g.length;e+=1)g[e].m(l,null);Ke(l,$),h=!0},p(a,o){if(t=a,(!h||4&o[0])&&m!==(m=t[34].name+"")&&lt(s,m),7&o[0]){let a;for(p=t[31].column_permissions.filter(n),a=0;a<p.length;a+=1){const n=e(t,p,a);g[a]?(g[a].p(n,o),Fe(g[a],1)):(g[a]=y(n),g[a].c(),Fe(g[a],1),g[a].m(l,$))}for(Ve(),a=p.length;a<g.length;a+=1)b(a);He()}},i(e){if(!h){for(let e=0;e<p.length;e+=1)Fe(g[e]);h=!0}},o(e){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)qe(g[e]);h=!1},d(e){e&&Se(l),at(g,e)}}}function x(e){function t(t){e[14].call(null,t,e[31])}function n(...t){return e[17](e[31],e[32],e[33],...t)}let a,o,r,s,c,i,f,u,d,$,h,b,v,y,w,x,E,k,D={readonly:e[0].getReadOnly(e[1]),id:"table-"+e[31].table,type:"checkbox",labelPos:"right",labelClasses:"text-xss font-bold capitalize",$$slots:{default:[m]},$$scope:{ctx:e}};void 0!==e[31].checked&&(D.value=e[31].checked),r=new ft({props:D}),rt.push(()=>st(r,"value",t)),r.$on("click",(function(...t){return e[15](e[31],...t)}));let T=e[31].role_permissions,N=[];for(let t=0;t<T.length;t+=1)N[t]=p(l(e,T,t));const _=e=>qe(N[e],1,1,()=>{N[e]=null});let z=e[31].open&&g(e);return{c(){a=je("tr"),o=je("td"),Ye(r.$$.fragment),c=Ge(),i=je("td"),f=Ge();for(let e=0;e<N.length;e+=1)N[e].c();u=Ge(),d=je("td"),$=je("span"),h=et("expand_more"),y=Ge(),z&&z.c(),w=Le(),this.h()},l(e){var t,n,l,s;a=Be(e,"TR",{class:!0}),t=Ce(a),o=Be(t,"TD",{class:!0}),n=Ce(o),Qe(r.$$.fragment,n),n.forEach(Se),c=Me(t),i=Be(t,"TD",{class:!0}),Ce(i).forEach(Se),f=Me(t);for(let e=0;e<N.length;e+=1)N[e].l(t);u=Me(t),d=Be(t,"TD",{class:!0}),l=Ce(d),$=Be(l,"SPAN",{class:!0}),s=Ce($),h=tt(s,"expand_more"),s.forEach(Se),l.forEach(Se),t.forEach(Se),y=Me(e),z&&z.l(e),w=Le(),this.h()},h(){Ie(o,"class","svelte-b3tiz"),Ie(i,"class","svelte-b3tiz"),Ie($,"class",b=(e[31].open?"":"rotate")+" w-full h-full text-center material-icons svelte-b3tiz"),Ie(d,"class","duration-100 cursor-pointer hover:bg-gray-200 svelte-b3tiz"),Ie(a,"class",v=e[33]%2==0?"bg-gray-100":"")},m(e,t){Ae(e,a,t),Ke(a,o),We(r,o,null),Ke(a,c),Ke(a,i),Ke(a,f);for(let e=0;e<N.length;e+=1)N[e].m(a,null);Ke(a,u),Ke(a,d),Ke(d,$),Ke($,h),Ae(e,y,t),z&&z.m(e,t),Ae(e,w,t),x=!0,E||(k=nt(d,"click",n),E=!0)},p(t,n){e=t;const o={};if(3&n[0]&&(o.readonly=e[0].getReadOnly(e[1])),4&n[0]&&(o.id="table-"+e[31].table),4&n[0]|524288&n[1]&&(o.$$scope={dirty:n,ctx:e}),!s&&4&n[0]&&(s=!0,o.value=e[31].checked,Xe(()=>s=!1)),r.$set(o),7&n[0]){let t;for(T=e[31].role_permissions,t=0;t<T.length;t+=1){const o=l(e,T,t);N[t]?(N[t].p(o,n),Fe(N[t],1)):(N[t]=p(o),N[t].c(),Fe(N[t],1),N[t].m(a,u))}for(Ve(),t=T.length;t<N.length;t+=1)_(t);He()}(!x||4&n[0]&&b!==(b=(e[31].open?"":"rotate")+" w-full h-full text-center material-icons svelte-b3tiz"))&&Ie($,"class",b),e[31].open?z?(z.p(e,n),4&n[0]&&Fe(z,1)):(z=g(e),z.c(),Fe(z,1),z.m(w.parentNode,w)):z&&(Ve(),qe(z,1,1,()=>{z=null}),He())},i(e){if(!x){Fe(r.$$.fragment,e);for(let e=0;e<T.length;e+=1)Fe(N[e]);Fe(z),x=!0}},o(e){qe(r.$$.fragment,e),N=N.filter(Boolean);for(let e=0;e<N.length;e+=1)qe(N[e]);qe(z),x=!1},d(e){e&&Se(a),Ze(r),at(N,e),e&&Se(y),z&&z.d(e),e&&Se(w),E=!1,k()}}}function E(e){let t,n,l=e[4]===e[28].title&&d(e);return{c(){l&&l.c(),t=Le()},l(e){l&&l.l(e),t=Le()},m(e,a){l&&l.m(e,a),Ae(e,t,a),n=!0},p(e,n){e[4]===e[28].title?l?(l.p(e,n),20&n[0]&&Fe(l,1)):(l=d(e),l.c(),Fe(l,1),l.m(t.parentNode,t)):l&&(Ve(),qe(l,1,1,()=>{l=null}),He())},i(e){n||(Fe(l),n=!0)},o(e){qe(l),n=!1},d(e){l&&l.d(e),e&&Se(t)}}}function k(){let e,t;return e=new ct({}),{c(){Ye(e.$$.fragment)},l(t){Qe(e.$$.fragment,t)},m(n,l){We(e,n,l),t=!0},i(n){t||(Fe(e.$$.fragment,n),t=!0)},o(n){qe(e.$$.fragment,n),t=!1},d(t){Ze(e,t)}}}function D(e){function t(e){return void 0===e[3]?0:void 0!==e[2]?1:-1}let n,l,a,o;const r=[i,c],s=[];return~(l=t(e))&&(a=s[l]=r[l](e)),{c(){n=je("div"),a&&a.c(),this.h()},l(e){n=Be(e,"DIV",{class:!0});var t=Ce(n);a&&a.l(t),t.forEach(Se),this.h()},h(){Ie(n,"class","w-full shadow-cms-equal-sm")},m(e,t){Ae(e,n,t),~l&&s[l].m(n,null),o=!0},p(e,o){let c=l;l=t(e),l===c?~l&&s[l].p(e,o):(a&&(Ve(),qe(s[c],1,1,()=>{s[c]=null}),He()),~l?(a=s[l],a||(a=s[l]=r[l](e),a.c()),Fe(a,1),a.m(n,null)):a=null)},i(e){o||(Fe(a),o=!0)},o(e){qe(a),o=!1},d(e){e&&Se(n),~l&&s[l].d()}}}function T(e,t,n){function l(e,t){void 0!==r&&(t.column_permissions.filter(t=>t.action===e.action).forEach(t=>{t.checked=!e.checked}),n(2,r))}function a(e){void 0!==r&&(r.filter(e=>e.title===c).forEach(t=>{t.tables.forEach(t=>{t.role_permissions.find(t=>t.action===e.action).checked=!e.checked})}),n(2,r))}function o(){if(void 0===r)return;const e=[],t=[];r.forEach(n=>{n.tables.forEach(n=>{n.role_permissions.forEach(t=>{t.checked&&e.push(t)}),n.column_permissions.forEach(e=>{e.checked||t.push(e)})})}),n(10,f.column_permissions=t,f),n(10,f.permissions=e,f),n(10,f),console.log("role",f)}let r,s,c,{oldData:i}=t,{role:f}=t,{roleTable:u}=t,{id:d}=t,$=!1;const h=["read","read-self","edit","edit-self","delete","delete-self","create"],m=["edit"];return h.forEach((e,t)=>{n(5,h[t]={action:e,checked:!1},h)}),m.forEach((e,t)=>{n(6,m[t]={action:e,checked:!1},m)}),Je(()=>{$=!0,async function(){$&&(await async function(){if(n(3,s=await it("/api/groups","get",{},!0)),!s.error){const t=s.data.groups;for(let n=0;n<t.length;n+=1){const l=t[n];l.tables=Object.values(l.tables);for(let e=0;e<l.tables.length;e+=1)l.tables[e]=new ht(l.tables[e]);l.tables=((e=l.tables).forEach(e=>{e.open=!1,e.role_permissions=[],e.column_permissions=[],h.forEach(t=>{const n={action:t.action,role_id:f.id,table:e.table},l=f.permissions.find(e=>e.table===n.table&&e.action===n.action);void 0!==l?(n.checked=!0,n.id=l.id):(n.checked=!1,n.id=null),e.role_permissions.push(n)}),m.forEach(t=>{e.getColumnNames(e.getEditable()).forEach(n=>{const l={action:t.action,column:n,role_id:f.id,table:e.table},a=f.column_permissions.find(e=>e.table===l.table&&e.action===l.action&&e.column===l.column);void 0!==a?(l.checked=!1,l.id=a.id):(l.checked=!0,l.id=null),e.column_permissions.push(l)})})}),e)}n(2,r=t),n(4,c=r[0].title)}var e}(),o(),n(9,i=JSON.parse(JSON.stringify(f))))}()}),e.$$set=e=>{"oldData"in e&&n(9,i=e.oldData),"role"in e&&n(10,f=e.role),"roleTable"in e&&n(0,u=e.roleTable),"id"in e&&n(1,d=e.id)},e.$$.update=()=>{4&e.$$.dirty[0]&&o(),16&e.$$.dirty[0]&&h.forEach(e=>{e.checked=!1})},[u,d,r,s,c,h,m,l,a,i,f,e=>{n(4,c=e.title)},function(e,t){t.checked=e,n(5,h)},e=>{a(e)},function(e,t){t.checked=e,n(2,r)},e=>{!function(e){e.role_permissions.forEach(t=>{t.checked=!e.checked})}(e)},function(e,t){t.checked=e,n(2,r)},(e,t,l)=>{n(2,t[l].open=!e.open,r)},function(e,t){t.checked=e,n(6,m)},(e,t)=>{l(e,t)},(e,t)=>t.column===e.name,function(e,t){t.checked=e,n(2,r)}]}function N(e,t,n){const l=e.slice();return l[28]=t[n],l[29]=t,l[30]=n,l}function _(e,t,n){const l=e.slice();return l[31]=t[n],l[32]=t,l[33]=n,l}function z(e){let t,n,l,a,o;return{c(){t=je("a"),n=je("span"),l=et("navigate_before"),o=Ge(),this.h()},l(e){var a,r;t=Be(e,"A",{href:!0}),a=Ce(t),n=Be(a,"SPAN",{class:!0}),r=Ce(n),l=tt(r,"navigate_before"),r.forEach(Se),a.forEach(Se),o=Me(e),this.h()},h(){Ie(n,"class","text-xl text-gray-800 material-icons"),Ie(t,"href",a="/cms/database/"+e[0])},m(e,a){Ae(e,t,a),Ke(t,n),Ke(n,l),Ae(e,o,a)},p(e,n){1&n[0]&&a!==(a="/cms/database/"+e[0])&&Ie(t,"href",a)},d(e){e&&Se(t),e&&Se(o)}}}function O(e){let t,n,l,a,o;return n=new Ue({props:{classes:"w-full mb-6",align:"center",justify:"between",$$slots:{default:[S]},$$scope:{ctx:e}}}),a=new Ue({props:{align:"start",$$slots:{default:[X]},$$scope:{ctx:e}}}),{c(){t=je("div"),Ye(n.$$.fragment),l=Ge(),Ye(a.$$.fragment),this.h()},l(e){t=Be(e,"DIV",{class:!0});var o=Ce(t);Qe(n.$$.fragment,o),l=Me(o),Qe(a.$$.fragment,o),o.forEach(Se),this.h()},h(){Ie(t,"class","p-4 overflow-y-scroll min-h-full-minus-nav")},m(e,r){Ae(e,t,r),We(n,t,null),Ke(t,l),We(a,t,null),o=!0},p(e,t){const l={};178&t[0]|8&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l);const o={};891&t[0]|8&t[1]&&(o.$$scope={dirty:t,ctx:e}),a.$set(o)},i(e){o||(Fe(n.$$.fragment,e),Fe(a.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),qe(a.$$.fragment,e),o=!1},d(e){e&&Se(t),Ze(n),Ze(a)}}}function P(e){let t,n;return t=new Ue({props:{classes:"w-full full-minus-nav",justify:"center",align:"center",$$slots:{default:[Z]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},l(e){Qe(t.$$.fragment,e)},m(e,l){We(t,e,l),n=!0},p(e,n){const l={};8&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(Fe(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Ze(t,e)}}}function R(e){let t,n;return t=new dt({props:{color:"bg-cmsSuccessGreen",buttonFunction:e[12],$$slots:{default:[j]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},l(e){Qe(t.$$.fragment,e)},m(e,l){We(t,e,l),n=!0},p(e,n){const l={};8&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(Fe(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Ze(t,e)}}}function j(){let e;return{c(){e=et("Erstellen")},l(t){e=tt(t,"Erstellen")},m(t,n){Ae(t,e,n)},d(t){t&&Se(e)}}}function B(e){let t,n;return t=new dt({props:{buttonFunction:e[11],disabled:!e[7],$$slots:{default:[C]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},l(e){Qe(t.$$.fragment,e)},m(e,l){We(t,e,l),n=!0},p(e,n){const l={};128&n[0]&&(l.disabled=!e[7]),8&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(Fe(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Ze(t,e)}}}function C(){let e;return{c(){e=et("Speichern")},l(t){e=tt(t,"Speichern")},m(t,n){Ae(t,e,n)},d(t){t&&Se(e)}}}function S(e){let t,n,l,a,o,r,s=e[4][e[5].getDisplayValue()]+"",c=e[5].getPermissions().create&&"new"===e[1],i=e[5].getPermissions().edit&&"new"!==e[1],f=c&&R(e),u=i&&B(e);return{c(){t=je("h5"),n=et(s),l=Ge(),f&&f.c(),a=Ge(),u&&u.c(),o=Le()},l(e){t=Be(e,"H5",{});var r=Ce(t);n=tt(r,s),r.forEach(Se),l=Me(e),f&&f.l(e),a=Me(e),u&&u.l(e),o=Le()},m(e,s){Ae(e,t,s),Ke(t,n),Ae(e,l,s),f&&f.m(e,s),Ae(e,a,s),u&&u.m(e,s),Ae(e,o,s),r=!0},p(e,t){(!r||48&t[0])&&s!==(s=e[4][e[5].getDisplayValue()]+"")&&lt(n,s),34&t[0]&&(c=e[5].getPermissions().create&&"new"===e[1]),c?f?(f.p(e,t),34&t[0]&&Fe(f,1)):(f=R(e),f.c(),Fe(f,1),f.m(a.parentNode,a)):f&&(Ve(),qe(f,1,1,()=>{f=null}),He()),34&t[0]&&(i=e[5].getPermissions().edit&&"new"!==e[1]),i?u?(u.p(e,t),34&t[0]&&Fe(u,1)):(u=B(e),u.c(),Fe(u,1),u.m(o.parentNode,o)):u&&(Ve(),qe(u,1,1,()=>{u=null}),He())},i(e){r||(Fe(f),Fe(u),r=!0)},o(e){qe(f),qe(u),r=!1},d(e){e&&Se(t),e&&Se(l),f&&f.d(e),e&&Se(a),u&&u.d(e),e&&Se(o)}}}function I(e){let t,n=e[31].name+"";return{c(){t=et(n)},l(e){t=tt(e,n)},m(e,n){Ae(e,t,n)},p(e,l){64&l[0]&&n!==(n=e[31].name+"")&&lt(t,n)},d(e){e&&Se(t)}}}function A(e){function t(t){e[13].call(null,t,e[31])}let n,l,a,o,r,s={id:e[5]+"-"+e[1]+"-"+e[31].name,type:e[31].inputType,labelClasses:"text-black font-bold capitalize",inputClasses:" "+("radio"===e[31].type?"w-10 h-5":""),autocomplete:e[31].autocomplete,readonly:e[5].getReadOnly(e[1],e[31].name),required:e[31].required,options:le(e[31].enum),error:void 0!==e[9][e[31].name]&&e[9][e[31].name][0],$$slots:{default:[I]},$$scope:{ctx:e}};return void 0!==e[4][e[31].name]&&(s.value=e[4][e[31].name]),l=new ft({props:s}),rt.push(()=>st(l,"value",t)),{c(){n=je("div"),Ye(l.$$.fragment),o=Ge(),this.h()},l(e){n=Be(e,"DIV",{class:!0});var t=Ce(n);Qe(l.$$.fragment,t),o=Me(t),t.forEach(Se),this.h()},h(){Ie(n,"class","m-2 w-80")},m(e,t){Ae(e,n,t),We(l,n,null),Ke(n,o),r=!0},p(t,n){e=t;const o={};98&n[0]&&(o.id=e[5]+"-"+e[1]+"-"+e[31].name),64&n[0]&&(o.type=e[31].inputType),64&n[0]&&(o.inputClasses=" "+("radio"===e[31].type?"w-10 h-5":"")),64&n[0]&&(o.autocomplete=e[31].autocomplete),98&n[0]&&(o.readonly=e[5].getReadOnly(e[1],e[31].name)),64&n[0]&&(o.required=e[31].required),64&n[0]&&(o.options=le(e[31].enum)),576&n[0]&&(o.error=void 0!==e[9][e[31].name]&&e[9][e[31].name][0]),64&n[0]|8&n[1]&&(o.$$scope={dirty:n,ctx:e}),!a&&80&n[0]&&(a=!0,o.value=e[4][e[31].name],Xe(()=>a=!1)),l.$set(o)},i(e){r||(Fe(l.$$.fragment,e),r=!0)},o(e){qe(l.$$.fragment,e),r=!1},d(e){e&&Se(n),Ze(l)}}}function V(e){let t,n,l=e[6],a=[];for(let t=0;t<l.length;t+=1)a[t]=A(_(e,l,t));const o=e=>qe(a[e],1,1,()=>{a[e]=null});return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=Le()},l(e){for(let t=0;t<a.length;t+=1)a[t].l(e);t=Le()},m(e,l){for(let t=0;t<a.length;t+=1)a[t].m(e,l);Ae(e,t,l),n=!0},p(e,n){if(626&n[0]){let r;for(l=e[6],r=0;r<l.length;r+=1){const o=_(e,l,r);a[r]?(a[r].p(o,n),Fe(a[r],1)):(a[r]=A(o),a[r].c(),Fe(a[r],1),a[r].m(t.parentNode,t))}for(Ve(),r=l.length;r<a.length;r+=1)o(r);He()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)Fe(a[e]);n=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)qe(a[e]);n=!1},d(e){at(a,e),e&&Se(t)}}}function q(e){function t(t){e[14].call(null,t)}function n(t){e[15].call(null,t)}let l,a,o,r,s={id:e[1],roleTable:e[5]};return void 0!==e[4]&&(s.role=e[4]),void 0!==e[3]&&(s.oldData=e[3]),l=new AddRole({props:s}),rt.push(()=>st(l,"role",t)),rt.push(()=>st(l,"oldData",n)),{c(){Ye(l.$$.fragment)},l(e){Qe(l.$$.fragment,e)},m(e,t){We(l,e,t),r=!0},p(e,t){const n={};2&t[0]&&(n.id=e[1]),32&t[0]&&(n.roleTable=e[5]),!a&&16&t[0]&&(a=!0,n.role=e[4],Xe(()=>a=!1)),!o&&8&t[0]&&(o=!0,n.oldData=e[3],Xe(()=>o=!1)),l.$set(n)},i(e){r||(Fe(l.$$.fragment,e),r=!0)},o(e){qe(l.$$.fragment,e),r=!1},d(e){Ze(l,e)}}}function H(e){let t,n,l,a;t=new Ue({props:{classes:"w-full mb-4 p-2 shadow-cms-equal-sm h-auto",wrap:"true",$$slots:{default:[V]},$$scope:{ctx:e}}});let o="roles"===e[0]&&q(e);return{c(){Ye(t.$$.fragment),n=Ge(),o&&o.c(),l=Le()},l(e){Qe(t.$$.fragment,e),n=Me(e),o&&o.l(e),l=Le()},m(e,r){We(t,e,r),Ae(e,n,r),o&&o.m(e,r),Ae(e,l,r),a=!0},p(e,n){const a={};626&n[0]|8&n[1]&&(a.$$scope={dirty:n,ctx:e}),t.$set(a),"roles"===e[0]?o?(o.p(e,n),1&n[0]&&Fe(o,1)):(o=q(e),o.c(),Fe(o,1),o.m(l.parentNode,l)):o&&(Ve(),qe(o,1,1,()=>{o=null}),He())},i(e){a||(Fe(t.$$.fragment,e),Fe(o),a=!0)},o(e){qe(t.$$.fragment,e),qe(o),a=!1},d(e){Ze(t,e),e&&Se(n),o&&o.d(e),e&&Se(l)}}}function F(e){let t,n,l,a,o,r,s;o=new Ue({props:{classes:"w-full",justify:"between",$$slots:{default:[J]},$$scope:{ctx:e}}});let c=void 0!==e[4].created_by&&U(e);return{c(){t=je("div"),n=je("h5"),l=et("Informationen"),a=Ge(),Ye(o.$$.fragment),r=Ge(),c&&c.c(),this.h()},l(e){var s,i;t=Be(e,"DIV",{class:!0}),s=Ce(t),n=Be(s,"H5",{class:!0}),i=Ce(n),l=tt(i,"Informationen"),i.forEach(Se),a=Me(s),Qe(o.$$.fragment,s),r=Me(s),c&&c.l(s),s.forEach(Se),this.h()},h(){Ie(n,"class","svelte-p8ains"),Ie(t,"class","mb-4 side-card svelte-p8ains")},m(e,i){Ae(e,t,i),Ke(t,n),Ke(n,l),Ke(t,a),We(o,t,null),Ke(t,r),c&&c.m(t,null),s=!0},p(e,n){const l={};16&n[0]|8&n[1]&&(l.$$scope={dirty:n,ctx:e}),o.$set(l),void 0!==e[4].created_by?c?(c.p(e,n),16&n[0]&&Fe(c,1)):(c=U(e),c.c(),Fe(c,1),c.m(t,null)):c&&(Ve(),qe(c,1,1,()=>{c=null}),He())},i(e){s||(Fe(o.$$.fragment,e),Fe(c),s=!0)},o(e){qe(o.$$.fragment,e),qe(c),s=!1},d(e){e&&Se(t),Ze(o),c&&c.d()}}}function J(e){let t,n,l,a,o,r=ut(e[4].updated_at)+"";return{c(){t=je("p"),n=et("Letztes Update"),l=Ge(),a=je("p"),o=et(r),this.h()},l(e){var s,c;t=Be(e,"P",{class:!0}),s=Ce(t),n=tt(s,"Letztes Update"),s.forEach(Se),l=Me(e),a=Be(e,"P",{class:!0}),c=Ce(a),o=tt(c,r),c.forEach(Se),this.h()},h(){Ie(t,"class","font-bold text-gray-500 text-xss"),Ie(a,"class","font-bold text-xss")},m(e,r){Ae(e,t,r),Ke(t,n),Ae(e,l,r),Ae(e,a,r),Ke(a,o)},p(e,t){16&t[0]&&r!==(r=ut(e[4].updated_at)+"")&&lt(o,r)},d(e){e&&Se(t),e&&Se(l),e&&Se(a)}}}function U(e){let t,n;return t=new Ue({props:{classes:"w-full",justify:"between",$$slots:{default:[L]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},l(e){Qe(t.$$.fragment,e)},m(e,l){We(t,e,l),n=!0},p(e,n){const l={};16&n[0]|8&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(Fe(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Ze(t,e)}}}function L(e){let t,n,l,a,o,r=e[4].created_by.name+"";return{c(){t=je("p"),n=et("Erstellt von:"),l=Ge(),a=je("p"),o=et(r),this.h()},l(e){var s,c;t=Be(e,"P",{class:!0}),s=Ce(t),n=tt(s,"Erstellt von:"),s.forEach(Se),l=Me(e),a=Be(e,"P",{class:!0}),c=Ce(a),o=tt(c,r),c.forEach(Se),this.h()},h(){Ie(t,"class","font-bold text-gray-500 text-xss"),Ie(a,"class","font-bold text-xss")},m(e,r){Ae(e,t,r),Ke(t,n),Ae(e,l,r),Ae(e,a,r),Ke(a,o)},p(e,t){16&t[0]&&r!==(r=e[4].created_by.name+"")&&lt(o,r)},d(e){e&&Se(t),e&&Se(l),e&&Se(a)}}}function G(e){function t(t){e[16].call(null,t,e[28])}let n,l,a,o,r,s,c,i=e[28].functionName+"",f={class:"w-full",readonly:e[5].getReadOnly(e[1],e[28].name),error:void 0!==e[9][e[28].name]&&e[9][e[28].name][0],type:"enum",options:ne(e[28])};return void 0!==e[4][e[28].name]&&(f.value=e[4][e[28].name]),r=new ft({props:f}),rt.push(()=>st(r,"value",t)),{c(){n=je("div"),l=je("h5"),a=et(i),o=Ge(),Ye(r.$$.fragment),this.h()},l(e){var t,s;n=Be(e,"DIV",{class:!0}),t=Ce(n),l=Be(t,"H5",{class:!0}),s=Ce(l),a=tt(s,i),s.forEach(Se),o=Me(t),Qe(r.$$.fragment,t),t.forEach(Se),this.h()},h(){Ie(l,"class","capitalize svelte-p8ains"),Ie(n,"class","mb-4 side-card svelte-p8ains")},m(e,t){Ae(e,n,t),Ke(n,l),Ke(l,a),Ke(n,o),We(r,n,null),c=!0},p(t,n){e=t,(!c||256&n[0])&&i!==(i=e[28].functionName+"")&&lt(a,i);const l={};290&n[0]&&(l.readonly=e[5].getReadOnly(e[1],e[28].name)),768&n[0]&&(l.error=void 0!==e[9][e[28].name]&&e[9][e[28].name][0]),256&n[0]&&(l.options=ne(e[28])),!s&&272&n[0]&&(s=!0,l.value=e[4][e[28].name],Xe(()=>s=!1)),r.$set(l)},i(e){c||(Fe(r.$$.fragment,e),c=!0)},o(e){qe(r.$$.fragment,e),c=!1},d(e){e&&Se(n),Ze(r)}}}function M(e){let t,n,l=e[4][e[28].name]!==[]&&void 0!==e[28].data&&G(e);return{c(){l&&l.c(),t=Le()},l(e){l&&l.l(e),t=Le()},m(e,a){l&&l.m(e,a),Ae(e,t,a),n=!0},p(e,n){e[4][e[28].name]!==[]&&void 0!==e[28].data?l?(l.p(e,n),272&n[0]&&Fe(l,1)):(l=G(e),l.c(),Fe(l,1),l.m(t.parentNode,t)):l&&(Ve(),qe(l,1,1,()=>{l=null}),He())},i(e){n||(Fe(l),n=!0)},o(e){qe(l),n=!1},d(e){l&&l.d(e),e&&Se(t)}}}function K(e){let t,n;return t=new dt({props:{buttonFunction:e[10],classes:"w-full shadow-cms-equal-sm",color:"bg-cmsErrorRed",$$slots:{default:[Q]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},l(e){Qe(t.$$.fragment,e)},m(e,l){We(t,e,l),n=!0},p(e,n){const l={};8&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(Fe(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Ze(t,e)}}}function Y(){let e,t,n,l,a;return{c(){e=je("span"),t=et("delete"),n=Ge(),l=je("p"),a=et("Diesen Eintrag löschen"),this.h()},l(o){var r,s;e=Be(o,"SPAN",{class:!0}),r=Ce(e),t=tt(r,"delete"),r.forEach(Se),n=Me(o),l=Be(o,"P",{class:!0}),s=Ce(l),a=tt(s,"Diesen Eintrag löschen"),s.forEach(Se),this.h()},h(){Ie(e,"class","mr-2 material-icons"),Ie(l,"class","text-xss")},m(o,r){Ae(o,e,r),Ke(e,t),Ae(o,n,r),Ae(o,l,r),Ke(l,a)},d(t){t&&Se(e),t&&Se(n),t&&Se(l)}}}function Q(e){let t,n;return t=new Ue({props:{align:"center",$$slots:{default:[Y]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},l(e){Qe(t.$$.fragment,e)},m(e,l){We(t,e,l),n=!0},p(e,n){const l={};8&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(Fe(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Ze(t,e)}}}function W(e){let t,n,l,a,o=e[5].getPermissions().delete&&"new"!==e[1],r="new"!==e[1]&&F(e),s=e[8],c=[];for(let t=0;t<s.length;t+=1)c[t]=M(N(e,s,t));const i=e=>qe(c[e],1,1,()=>{c[e]=null});let f=o&&K(e);return{c(){r&&r.c(),t=Ge();for(let e=0;e<c.length;e+=1)c[e].c();n=Ge(),f&&f.c(),l=Le()},l(e){r&&r.l(e),t=Me(e);for(let t=0;t<c.length;t+=1)c[t].l(e);n=Me(e),f&&f.l(e),l=Le()},m(e,o){r&&r.m(e,o),Ae(e,t,o);for(let t=0;t<c.length;t+=1)c[t].m(e,o);Ae(e,n,o),f&&f.m(e,o),Ae(e,l,o),a=!0},p(e,a){if("new"!==e[1]?r?(r.p(e,a),2&a[0]&&Fe(r,1)):(r=F(e),r.c(),Fe(r,1),r.m(t.parentNode,t)):r&&(Ve(),qe(r,1,1,()=>{r=null}),He()),818&a[0]){let t;for(s=e[8],t=0;t<s.length;t+=1){const l=N(e,s,t);c[t]?(c[t].p(l,a),Fe(c[t],1)):(c[t]=M(l),c[t].c(),Fe(c[t],1),c[t].m(n.parentNode,n))}for(Ve(),t=s.length;t<c.length;t+=1)i(t);He()}34&a[0]&&(o=e[5].getPermissions().delete&&"new"!==e[1]),o?f?(f.p(e,a),34&a[0]&&Fe(f,1)):(f=K(e),f.c(),Fe(f,1),f.m(l.parentNode,l)):f&&(Ve(),qe(f,1,1,()=>{f=null}),He())},i(e){if(!a){Fe(r);for(let e=0;e<s.length;e+=1)Fe(c[e]);Fe(f),a=!0}},o(e){qe(r),c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)qe(c[e]);qe(f),a=!1},d(e){r&&r.d(e),e&&Se(t),at(c,e),e&&Se(n),f&&f.d(e),e&&Se(l)}}}function X(e){let t,n,l,a;return t=new Ue({props:{classes:"w-3/4",cols:"true",$$slots:{default:[H]},$$scope:{ctx:e}}}),l=new Ue({props:{classes:"ml-4 w-1/4",cols:"true",$$slots:{default:[W]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment),n=Ge(),Ye(l.$$.fragment)},l(e){Qe(t.$$.fragment,e),n=Me(e),Qe(l.$$.fragment,e)},m(e,o){We(t,e,o),Ae(e,n,o),We(l,e,o),a=!0},p(e,n){const a={};635&n[0]|8&n[1]&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);const o={};818&n[0]|8&n[1]&&(o.$$scope={dirty:n,ctx:e}),l.$set(o)},i(e){a||(Fe(t.$$.fragment,e),Fe(l.$$.fragment,e),a=!0)},o(e){qe(t.$$.fragment,e),qe(l.$$.fragment,e),a=!1},d(e){Ze(t,e),e&&Se(n),Ze(l,e)}}}function Z(){let e,t;return e=new ct({}),{c(){Ye(e.$$.fragment)},l(t){Qe(e.$$.fragment,t)},m(n,l){We(e,n,l),t=!0},i(n){t||(Fe(e.$$.fragment,n),t=!0)},o(n){qe(e.$$.fragment,n),t=!1},d(t){Ze(e,t)}}}function ee(e){function t(e){return void 0===e[2]?0:void 0!==e[5]&&void 0!==e[4]?1:-1}let n,l,a,o,r;n=new $t({props:{$$slots:{default:[z]},$$scope:{ctx:e}}});const s=[P,O],c=[];return~(l=t(e))&&(a=c[l]=s[l](e)),{c(){Ye(n.$$.fragment),a&&a.c(),o=Le()},l(e){Qe(n.$$.fragment,e),a&&a.l(e),o=Le()},m(e,t){We(n,e,t),~l&&c[l].m(e,t),Ae(e,o,t),r=!0},p(e,r){const i={};1&r[0]|8&r[1]&&(i.$$scope={dirty:r,ctx:e}),n.$set(i);let f=l;l=t(e),l===f?~l&&c[l].p(e,r):(a&&(Ve(),qe(c[f],1,1,()=>{c[f]=null}),He()),~l?(a=c[l],a||(a=c[l]=s[l](e),a.c()),Fe(a,1),a.m(o.parentNode,o)):a=null)},i(e){r||(Fe(n.$$.fragment,e),Fe(a),r=!0)},o(e){qe(n.$$.fragment,e),qe(a),r=!1},d(e){Ze(n,e),~l&&c[l].d(e),e&&Se(o)}}}async function te({params:e,path:t},{globals:n}){const l=e.slug,a=t.split("/"),o=a[a.length-2],r=await it(`${n.apiUrl}/${o}`,"get",{},!1);return 404===r.status&&this.error(r.status,r.data.response.statusText),{id:l,tableName:o}}function ne(e){const t=e.table.getDisplayValue();return e.data.map(e=>({name:e[t],value:e.id}))}function le(e){return void 0===e?[]:e.map(e=>({name:e,value:e}))}function ae(e,t,n){function l(e){d.getNoDefaults(d.getTableColumns(d.getFillable(d.columns))).forEach(t=>{void 0===e[t.name]&&(e[t.name]=null)}),d.getNoDefaults(d.relations).forEach(t=>{void 0===e[t.functionName]&&(e[t.functionName]=[])}),n(4,u=e),n(3,f=JSON.parse(JSON.stringify(u)))}async function a(){let e={};if("new"!==m){if(n(2,i=await it(`/api/${h}?id=${m}`,"get",{},!0)),i.error)return;e=i.data[h][0]}l(e)}async function o(e){let t;if(n(2,i=await it("/api/tables?table="+e,"get",{},!0)),200===i.status&&i.data.tables.length>0)return t=new ht(i.data.tables[0]),n(2,i=await it(`/api/${t.table}?_norelations=true`,"get",{},!0)),i.error?void 0:{data:i.data[t.table],table:t}}async function r(){!1!==v&&(n(2,i=void 0),n(5,d=void 0),n(4,u=void 0),await async function(){n(2,i=await it("/api/tables?table="+h,"get",{},!0)),i.error||(n(5,d=new ht(i.data.tables[0])),n(6,$=d.getFillable(d.getNoDefaults(d.columns))),async function(){const e=d.getNoDefaults(d.getTableColumns(d.relations));for(let t=e.length-1;t>-1;t-=1){const n=await o([e[t].foreignTable]);void 0!==n?(e[t].data=n.data,e[t].table=n.table):e.splice(t,1)}n(8,g=e)}())}(),a())}async function s(e,t,n){"new"===m&&u[e].forEach(e=>{e.role_id=n.id});let l=Te(f[e],u[e],_t);const a=Te(u[e],f[e],_t);l.length>0&&(l=l.map(e=>e.id),await it(t,"delete",{ids:l},!0)),a.length>0&&await it(t,"post",a,!0)}function c(e){"roles"===d.table&&(s("permissions","/api/permissions?_norelations=true",e),s("column_permissions","/api/column_permissions?_norelations=true",e))}let i,f,u,d,$,{tableName:h}=t,{id:m}=t,p=!1,g=[],b={},v=!1;return Je(async()=>{v=!0,await r()}),e.$$set=e=>{"tableName"in e&&n(0,h=e.tableName),"id"in e&&n(1,m=e.id)},e.$$.update=()=>{16&e.$$.dirty[0]&&void 0!==u&&void 0!==f&&(_t(u,f)?n(7,p=!1):n(7,p=!0)),1&e.$$.dirty[0]&&r(),2&e.$$.dirty[0]&&async function(){!1!==v&&(n(2,i=void 0),n(4,u=void 0),a())}()},[h,m,i,f,u,d,$,p,g,b,async function(){n(2,i=await it(`/api/${h}?id=${m}&_norelations=true`,"delete",{},!0)),!0!==i.error&&window.history.go(-1)},async function(){if(!d.getPermissions().edit)return;n(4,u=d.modifyData(u));const e=Nt(u,f);c(),n(2,i=await it(`/api/${h}?id=${m}`,"put",e,!0)),200===i.status?(l(i.data[h][0]),n(9,b=[])):400===i.status&&n(9,b=i.data)},async function(){if(d.getPermissions().create){if(n(4,u=d.modifyData(u)),n(2,i=await it("/api/"+h,"post",u,!0)),200===i.status){const e=i.data[h][0];c(e),l(e),n(9,b=[]),window.history.go(-1)}400===i.status&&n(9,b=i.data)}},function(e,t){u[t.name]=e,n(4,u)},function(e){u=e,n(4,u)},function(e){f=e,n(3,f)},function(e,t){u[t.name]=e,n(4,u)}]}var oe,re,se,ce,ie,fe,ue,de,$e,he,me,pe,ge,be,ve,ye,we,xe,Ee,ke,De,Te,Ne,_e,ze;import{S as Oe,i as Pe,s as Re,e as je,b as Be,d as Ce,g as Se,k as Ie,m as Ae,G as Ve,q as qe,H as He,p as Fe,J as Je,F as Ue,y as Le,a as Ge,h as Me,n as Ke,c as Ye,j as Qe,o as We,O as Xe,r as Ze,t as et,f as tt,N as nt,C as lt,z as at,l as ot,K as rt,M as st,_ as ct,$ as it}from"./client.b007dbf1.js";import{I as ft}from"./Input.9fb47177.js";import{g as ut}from"./time.4604e9c6.js";import{B as dt}from"./Button.b1699f39.js";import{T as $t}from"./TopNav.65515bb5.js";import{T as ht}from"./table.f0d17de5.js";import{_ as mt,a as pt,b as gt,c as bt,d as vt,i as yt,e as wt,f as xt,g as Et,h as kt,j as Dt,k as Tt,l as Nt,m as _t}from"./object.8620853c.js";oe=function(e,t,n,l){for(var a=e.length,o=n+(l?1:-1);l?o--:++o<a;)if(t(e[o],o,e))return o;return-1},re=function(e){return e!=e},se=function(e,t,n){for(var l=n-1,a=e.length;++l<a;)if(e[l]===t)return l;return-1},ce=function(e,t,n){return t==t?se(e,t,n):oe(e,re,n)},ie=function(e,t){return!(null==e||!e.length)&&ce(e,t,0)>-1},fe=function(e,t,n){for(var l=-1,a=null==e?0:e.length;++l<a;)if(n(t,e[l]))return!0;return!1},ue=function(e,t,n,l){var a,o,r,s=-1,c=ie,i=!0,f=e.length,u=[],d=t.length;if(!f)return u;n&&(t=mt(t,gt(n))),l?(c=fe,i=!1):t.length>=200&&(c=bt,i=!1,t=new pt(t));e:for(;++s<f;)if(a=e[s],o=null==n?a:n(a),a=l||0!==a?a:0,i&&o==o){for(r=d;r--;)if(t[r]===o)continue e;u.push(a)}else c(t,o,l)||u.push(a);return u},de=vt?vt.isConcatSpreadable:void 0,$e=function(e){return yt(e)||wt(e)||!!(de&&e&&e[de])},he=function e(t,n,l,a,o){var r,s=-1,c=t.length;for(l||(l=$e),o||(o=[]);++s<c;)r=t[s],n>0&&l(r)?n>1?e(r,n-1,l,a,o):xt(o,r):a||(o[o.length]=r);return o},me=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},pe=Math.max,ge=function(e,t,n){return t=pe(void 0===t?e.length-1:t,0),function(){for(var l,a=arguments,o=-1,r=pe(a.length-t,0),s=Array(r);++o<r;)s[o]=a[t+o];for(o=-1,l=Array(t+1);++o<t;)l[o]=a[o];return l[t]=n(s),me(e,this,l)}},be=function(e){return function(){return e}},ve=function(){try{var e=Et(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),we=Date.now,Ne=(ye=ve)?function(e,t){return ye(e,"toString",{configurable:!0,enumerable:!1,value:be(t),writable:!0})}:kt,_e=0,ze=0,xe=function(){var e=we(),t=16-(e-ze);if(ze=e,t>0){if(++_e>=800)return arguments[0]}else _e=0;return Ne.apply(void 0,arguments)},Ee=function(e){return Dt(e)&&Tt(e)},ke=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},De=function(e){return xe(ge(e,void 0,kt),e+"")}((function(e,t){var n=ke(t);return Ee(n)&&(n=void 0),Ee(e)?ue(e,he(t,1,Ee,!0),void 0,n):[]})),Te=De;class AddRole extends Oe{constructor(e){super(),Pe(this,e,T,D,Re,{oldData:9,role:10,roleTable:0,id:1},[-1,-1])}}export default class U5Bslugu5D extends Oe{constructor(e){super(),Pe(this,e,ae,ee,Re,{tableName:0,id:1},[-1,-1])}}export{te as preload};
