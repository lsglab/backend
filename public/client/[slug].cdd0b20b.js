function t(t,e,n){const l=t.slice();return l[37]=e[n],l[38]=e,l[39]=n,l}function e(t,e,n){const l=t.slice();return l[34]=e[n],l}function n(t,e,n){const l=t.slice();return l[40]=e[n],l[41]=e,l[42]=n,l}function l(t,e,n){const l=t.slice();return l[43]=e[n],l[44]=e,l[45]=n,l}function a(t,e,n){const l=t.slice();return l[31]=e[n],l[32]=e,l[33]=n,l}function o(t,e,n){const l=t.slice();return l[40]=e[n],l[46]=e,l[47]=n,l}function s(t,e,n){const l=t.slice();return l[28]=e[n],l}function r(t,e,n){const l=t.slice();return l[28]=e[n],l}function c(t){let e,n,l,a;e=new Ut({props:{classes:"w-full",align:"center",$$slots:{default:[u]},$$scope:{ctx:t}}});let o=t[2],r=[];for(let e=0;e<o.length;e+=1)r[e]=E(s(t,o,e));const c=t=>qt(r[t],1,1,()=>{r[t]=null});return{c(){Yt(e.$$.fragment),n=Gt();for(let t=0;t<r.length;t+=1)r[t].c();l=Lt()},l(t){Qt(e.$$.fragment,t),n=Mt(t);for(let e=0;e<r.length;e+=1)r[e].l(t);l=Lt()},m(t,o){Wt(e,t,o),At(t,n,o);for(let e=0;e<r.length;e+=1)r[e].m(t,o);At(t,l,o),a=!0},p(t,n){const a={};if(20&n[0]|524288&n[1]&&(a.$$scope={dirty:n,ctx:t}),e.$set(a),503&n[0]){let e;for(o=t[2],e=0;e<o.length;e+=1){const a=s(t,o,e);r[e]?(r[e].p(a,n),Ft(r[e],1)):(r[e]=E(a),r[e].c(),Ft(r[e],1),r[e].m(l.parentNode,l))}for(Vt(),e=o.length;e<r.length;e+=1)c(e);Ht()}},i(t){if(!a){Ft(e.$$.fragment,t);for(let t=0;t<o.length;t+=1)Ft(r[t]);a=!0}},o(t){qt(e.$$.fragment,t),r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)qt(r[t]);a=!1},d(t){Zt(e,t),t&&St(n),ae(r,t),t&&St(l)}}}function i(t){let e,n;return e=new Ut({props:{classes:"w-full p-5",align:"center",justify:"center",$$slots:{default:[k]},$$scope:{ctx:t}}}),{c(){Yt(e.$$.fragment)},l(t){Qt(e.$$.fragment,t)},m(t,l){Wt(e,t,l),n=!0},p(t,n){const l={};524288&n[1]&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ft(e.$$.fragment,t),n=!0)},o(t){qt(e.$$.fragment,t),n=!1},d(t){Zt(e,t)}}}function f(t){function e(...e){return t[11](t[28],...e)}let n,l,a,o,s,r,c=t[28].title+"";return{c(){n=jt("div"),l=te(c),a=Gt(),this.h()},l(t){n=Bt(t,"DIV",{style:!0,class:!0});var e=Ct(n);l=ee(e,c),a=Mt(e),e.forEach(St),this.h()},h(){oe(n,"width",100/t[2].length+"%"),It(n,"class",o="p-2 transition-none "+(t[28].title===t[4]?"bg-white border-cmsBtnColor":"bg-gray-100 border-gray-100")+" border-t-2 cursor-pointer text-xs font-bold text-center")},m(t,o){At(t,n,o),Kt(n,l),Kt(n,a),s||(r=ne(n,"click",e),s=!0)},p(e,a){t=e,4&a[0]&&c!==(c=t[28].title+"")&&le(l,c),4&a[0]&&oe(n,"width",100/t[2].length+"%"),20&a[0]&&o!==(o="p-2 transition-none "+(t[28].title===t[4]?"bg-white border-cmsBtnColor":"bg-gray-100 border-gray-100")+" border-t-2 cursor-pointer text-xs font-bold text-center")&&It(n,"class",o)},d(t){t&&St(n),s=!1,r()}}}function u(t){let e,n=t[2],l=[];for(let e=0;e<n.length;e+=1)l[e]=f(r(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=Lt()},l(t){for(let e=0;e<l.length;e+=1)l[e].l(t);e=Lt()},m(t,n){for(let e=0;e<l.length;e+=1)l[e].m(t,n);At(t,e,n)},p(t,a){if(20&a[0]){let o;for(n=t[2],o=0;o<n.length;o+=1){const s=r(t,n,o);l[o]?l[o].p(s,a):(l[o]=f(s),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(t){ae(l,t),t&&St(e)}}}function d(t){let e,n,l,s,r,c,i,f,u,d,h,m=t[5],p=[];for(let e=0;e<m.length;e+=1)p[e]=$(o(t,m,e));const g=t=>qt(p[t],1,1,()=>{p[t]=null});let b=t[28].tables,v=[];for(let e=0;e<b.length;e+=1)v[e]=x(a(t,b,e));const y=t=>qt(v[t],1,1,()=>{v[t]=null});return{c(){e=jt("div"),n=jt("table"),l=jt("thead"),s=jt("th"),r=Gt(),c=jt("th"),i=Gt();for(let t=0;t<p.length;t+=1)p[t].c();f=Gt(),u=jt("tbody");for(let t=0;t<v.length;t+=1)v[t].c();d=Gt(),this.h()},l(t){var a,o,h,$;e=Bt(t,"DIV",{class:!0}),a=Ct(e),n=Bt(a,"TABLE",{class:!0}),o=Ct(n),l=Bt(o,"THEAD",{}),h=Ct(l),s=Bt(h,"TH",{class:!0}),Ct(s).forEach(St),r=Mt(h),c=Bt(h,"TH",{class:!0}),Ct(c).forEach(St),i=Mt(h);for(let t=0;t<p.length;t+=1)p[t].l(h);h.forEach(St),f=Mt(o),u=Bt(o,"TBODY",{}),$=Ct(u);for(let t=0;t<v.length;t+=1)v[t].l($);$.forEach(St),o.forEach(St),d=Mt(a),a.forEach(St),this.h()},h(){It(s,"class","svelte-b3tiz"),It(c,"class","svelte-b3tiz"),It(n,"class","w-full"),It(e,"class","p-4")},m(t,a){At(t,e,a),Kt(e,n),Kt(n,l),Kt(l,s),Kt(l,r),Kt(l,c),Kt(l,i);for(let t=0;t<p.length;t+=1)p[t].m(l,null);Kt(n,f),Kt(n,u);for(let t=0;t<v.length;t+=1)v[t].m(u,null);Kt(e,d),h=!0},p(t,e){if(291&e[0]){let n;for(m=t[5],n=0;n<m.length;n+=1){const a=o(t,m,n);p[n]?(p[n].p(a,e),Ft(p[n],1)):(p[n]=$(a),p[n].c(),Ft(p[n],1),p[n].m(l,null))}for(Vt(),n=m.length;n<p.length;n+=1)g(n);Ht()}if(199&e[0]){let n;for(b=t[28].tables,n=0;n<b.length;n+=1){const l=a(t,b,n);v[n]?(v[n].p(l,e),Ft(v[n],1)):(v[n]=x(l),v[n].c(),Ft(v[n],1),v[n].m(u,null))}for(Vt(),n=b.length;n<v.length;n+=1)y(n);Ht()}},i(t){if(!h){for(let t=0;t<m.length;t+=1)Ft(p[t]);for(let t=0;t<b.length;t+=1)Ft(v[t]);h=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)qt(p[t]);v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)qt(v[t]);h=!1},d(t){t&&St(e),ae(p,t),ae(v,t)}}}function h(t){let e,n=t[40].action+"";return{c(){e=te(n)},l(t){e=ee(t,n)},m(t,n){At(t,e,n)},p(t,l){32&l[0]&&n!==(n=t[40].action+"")&&le(e,n)},d(t){t&&St(e)}}}function $(t){function e(e){t[12].call(null,e,t[40])}let n,l,a,o,s,r={id:t[40].action,readonly:t[0].getReadOnly(t[1]),labelClasses:"font-bold text-xss capitalize",type:"checkbox",labelPos:"right",$$slots:{default:[h]},$$scope:{ctx:t}};return void 0!==t[40].checked&&(r.value=t[40].checked),l=new fe({props:r}),se.push(()=>re(l,"value",e)),l.$on("click",(function(...e){return t[13](t[40],...e)})),{c(){n=jt("th"),Yt(l.$$.fragment),o=Gt(),this.h()},l(t){n=Bt(t,"TH",{class:!0});var e=Ct(n);Qt(l.$$.fragment,e),o=Mt(e),e.forEach(St),this.h()},h(){It(n,"class","svelte-b3tiz")},m(t,e){At(t,n,e),Wt(l,n,null),Kt(n,o),s=!0},p(e,n){t=e;const o={};32&n[0]&&(o.id=t[40].action),3&n[0]&&(o.readonly=t[0].getReadOnly(t[1])),32&n[0]|524288&n[1]&&(o.$$scope={dirty:n,ctx:t}),!a&&32&n[0]&&(a=!0,o.value=t[40].checked,Xt(()=>a=!1)),l.$set(o)},i(t){s||(Ft(l.$$.fragment,t),s=!0)},o(t){qt(l.$$.fragment,t),s=!1},d(t){t&&St(n),Zt(l)}}}function m(t){let e,n=t[31].table+"";return{c(){e=te(n)},l(t){e=ee(t,n)},m(t,n){At(t,e,n)},p(t,l){4&l[0]&&n!==(n=t[31].table+"")&&le(e,n)},d(t){t&&St(e)}}}function p(t){function e(e){t[16].call(null,e,t[43])}let n,l,a,o,s={readonly:t[0].getReadOnly(t[1]),id:"p-"+t[31].table+"-"+t[43].action,type:"checkbox"};return void 0!==t[43].checked&&(s.value=t[43].checked),l=new fe({props:s}),se.push(()=>re(l,"value",e)),{c(){n=jt("td"),Yt(l.$$.fragment),this.h()},l(t){n=Bt(t,"TD",{class:!0});var e=Ct(n);Qt(l.$$.fragment,e),e.forEach(St),this.h()},h(){It(n,"class","svelte-b3tiz")},m(t,e){At(t,n,e),Wt(l,n,null),o=!0},p(e,n){t=e;const o={};3&n[0]&&(o.readonly=t[0].getReadOnly(t[1])),4&n[0]&&(o.id="p-"+t[31].table+"-"+t[43].action),!a&&4&n[0]&&(a=!0,o.value=t[43].checked,Xt(()=>a=!1)),l.$set(o)},i(t){o||(Ft(l.$$.fragment,t),o=!0)},o(t){qt(l.$$.fragment,t),o=!1},d(t){t&&St(n),Zt(l)}}}function g(t){let l,a,o,s,r,c,i,f,u,d,h,$,m,p=t[6],g=[];for(let e=0;e<p.length;e+=1)g[e]=v(n(t,p,e));const b=t=>qt(g[t],1,1,()=>{g[t]=null});let y=t[31].getEditable(),x=[];for(let n=0;n<y.length;n+=1)x[n]=w(e(t,y,n));const E=t=>qt(x[t],1,1,()=>{x[t]=null});return{c(){l=jt("tr"),a=jt("td"),o=Gt(),s=jt("td"),r=te("Column Permissions"),c=Gt(),i=jt("td"),f=Gt(),u=jt("td"),d=Gt();for(let t=0;t<g.length;t+=1)g[t].c();h=Gt();for(let t=0;t<x.length;t+=1)x[t].c();$=Lt(),this.h()},l(t){var e,n;l=Bt(t,"TR",{}),e=Ct(l),a=Bt(e,"TD",{class:!0}),Ct(a).forEach(St),o=Mt(e),s=Bt(e,"TD",{class:!0}),n=Ct(s),r=ee(n,"Column Permissions"),n.forEach(St),c=Mt(e),i=Bt(e,"TD",{class:!0}),Ct(i).forEach(St),f=Mt(e),u=Bt(e,"TD",{class:!0}),Ct(u).forEach(St),d=Mt(e);for(let t=0;t<g.length;t+=1)g[t].l(e);e.forEach(St),h=Mt(t);for(let e=0;e<x.length;e+=1)x[e].l(t);$=Lt(),this.h()},h(){It(a,"class","svelte-b3tiz"),It(s,"class","svelte-b3tiz"),It(i,"class","svelte-b3tiz"),It(u,"class","svelte-b3tiz")},m(t,e){At(t,l,e),Kt(l,a),Kt(l,o),Kt(l,s),Kt(s,r),Kt(l,c),Kt(l,i),Kt(l,f),Kt(l,u),Kt(l,d);for(let t=0;t<g.length;t+=1)g[t].m(l,null);At(t,h,e);for(let n=0;n<x.length;n+=1)x[n].m(t,e);At(t,$,e),m=!0},p(t,a){if(199&a[0]){let e;for(p=t[6],e=0;e<p.length;e+=1){const o=n(t,p,e);g[e]?(g[e].p(o,a),Ft(g[e],1)):(g[e]=v(o),g[e].c(),Ft(g[e],1),g[e].m(l,null))}for(Vt(),e=p.length;e<g.length;e+=1)b(e);Ht()}if(7&a[0]){let n;for(y=t[31].getEditable(),n=0;n<y.length;n+=1){const l=e(t,y,n);x[n]?(x[n].p(l,a),Ft(x[n],1)):(x[n]=w(l),x[n].c(),Ft(x[n],1),x[n].m($.parentNode,$))}for(Vt(),n=y.length;n<x.length;n+=1)E(n);Ht()}},i(t){if(!m){for(let t=0;t<p.length;t+=1)Ft(g[t]);for(let t=0;t<y.length;t+=1)Ft(x[t]);m=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)qt(g[t]);x=x.filter(Boolean);for(let t=0;t<x.length;t+=1)qt(x[t]);m=!1},d(t){t&&St(l),ae(g,t),t&&St(h),ae(x,t),t&&St($)}}}function b(t){let e,n=t[40].action+"";return{c(){e=te(n)},l(t){e=ee(t,n)},m(t,n){At(t,e,n)},p(t,l){64&l[0]&&n!==(n=t[40].action+"")&&le(e,n)},d(t){t&&St(e)}}}function v(t){function e(e){t[18].call(null,e,t[40])}let n,l,a,o,s,r={readonly:t[0].getReadOnly(t[1]),id:t[31].table+"-column-action-"+t[40],labelPos:"right",labelClasses:"capitalize text-xss font-bold ",type:"checkbox",$$slots:{default:[b]},$$scope:{ctx:t}};return void 0!==t[40].checked&&(r.value=t[40].checked),l=new fe({props:r}),se.push(()=>re(l,"value",e)),l.$on("click",(function(...e){return t[19](t[40],t[31],...e)})),{c(){n=jt("td"),Yt(l.$$.fragment),o=Gt(),this.h()},l(t){n=Bt(t,"TD",{class:!0});var e=Ct(n);Qt(l.$$.fragment,e),o=Mt(e),e.forEach(St),this.h()},h(){It(n,"class","svelte-b3tiz")},m(t,e){At(t,n,e),Wt(l,n,null),Kt(n,o),s=!0},p(e,n){t=e;const o={};3&n[0]&&(o.readonly=t[0].getReadOnly(t[1])),68&n[0]&&(o.id=t[31].table+"-column-action-"+t[40]),64&n[0]|524288&n[1]&&(o.$$scope={dirty:n,ctx:t}),!a&&64&n[0]&&(a=!0,o.value=t[40].checked,Xt(()=>a=!1)),l.$set(o)},i(t){s||(Ft(l.$$.fragment,t),s=!0)},o(t){qt(l.$$.fragment,t),s=!1},d(t){t&&St(n),Zt(l)}}}function y(t){function e(e){t[21].call(null,e,t[37])}let n,l,a,o,s={readonly:t[0].getReadOnly(t[1]),id:t[31].table+"-column-"+t[34].name,type:"checkbox"};return void 0!==t[37].checked&&(s.value=t[37].checked),l=new fe({props:s}),se.push(()=>re(l,"value",e)),{c(){n=jt("td"),Yt(l.$$.fragment),this.h()},l(t){n=Bt(t,"TD",{class:!0});var e=Ct(n);Qt(l.$$.fragment,e),e.forEach(St),this.h()},h(){It(n,"class","svelte-b3tiz")},m(t,e){At(t,n,e),Wt(l,n,null),o=!0},p(e,n){t=e;const o={};3&n[0]&&(o.readonly=t[0].getReadOnly(t[1])),4&n[0]&&(o.id=t[31].table+"-column-"+t[34].name),!a&&4&n[0]&&(a=!0,o.value=t[37].checked,Xt(()=>a=!1)),l.$set(o)},i(t){o||(Ft(l.$$.fragment,t),o=!0)},o(t){qt(l.$$.fragment,t),o=!1},d(t){t&&St(n),Zt(l)}}}function w(e){function n(...t){return e[20](e[34],...t)}let l,a,o,s,r,c,i,f,u,d,h,$,m=e[34].name+"",p=e[31].column_permissions.filter(n),g=[];for(let n=0;n<p.length;n+=1)g[n]=y(t(e,p,n));const b=t=>qt(g[t],1,1,()=>{g[t]=null});return{c(){l=jt("tr"),a=jt("td"),o=Gt(),s=jt("td"),r=te(m),c=Gt(),i=jt("td"),f=Gt(),u=jt("td"),d=Gt();for(let t=0;t<g.length;t+=1)g[t].c();h=Gt(),this.h()},l(t){var e,n;l=Bt(t,"TR",{}),e=Ct(l),a=Bt(e,"TD",{class:!0}),Ct(a).forEach(St),o=Mt(e),s=Bt(e,"TD",{class:!0}),n=Ct(s),r=ee(n,m),n.forEach(St),c=Mt(e),i=Bt(e,"TD",{class:!0}),Ct(i).forEach(St),f=Mt(e),u=Bt(e,"TD",{class:!0}),Ct(u).forEach(St),d=Mt(e);for(let t=0;t<g.length;t+=1)g[t].l(e);h=Mt(e),e.forEach(St),this.h()},h(){It(a,"class","svelte-b3tiz"),It(s,"class","text-gray-700 svelte-b3tiz"),It(i,"class","svelte-b3tiz"),It(u,"class","svelte-b3tiz")},m(t,e){At(t,l,e),Kt(l,a),Kt(l,o),Kt(l,s),Kt(s,r),Kt(l,c),Kt(l,i),Kt(l,f),Kt(l,u),Kt(l,d);for(let t=0;t<g.length;t+=1)g[t].m(l,null);Kt(l,h),$=!0},p(a,o){if(e=a,(!$||4&o[0])&&m!==(m=e[34].name+"")&&le(r,m),7&o[0]){let a;for(p=e[31].column_permissions.filter(n),a=0;a<p.length;a+=1){const n=t(e,p,a);g[a]?(g[a].p(n,o),Ft(g[a],1)):(g[a]=y(n),g[a].c(),Ft(g[a],1),g[a].m(l,h))}for(Vt(),a=p.length;a<g.length;a+=1)b(a);Ht()}},i(t){if(!$){for(let t=0;t<p.length;t+=1)Ft(g[t]);$=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)qt(g[t]);$=!1},d(t){t&&St(l),ae(g,t)}}}function x(t){function e(e){t[14].call(null,e,t[31])}function n(...e){return t[17](t[31],t[32],t[33],...e)}let a,o,s,r,c,i,f,u,d,h,$,b,v,y,w,x,E,k,D={readonly:t[0].getReadOnly(t[1]),id:"table-"+t[31].table,type:"checkbox",labelPos:"right",labelClasses:"text-xss font-bold capitalize",$$slots:{default:[m]},$$scope:{ctx:t}};void 0!==t[31].checked&&(D.value=t[31].checked),s=new fe({props:D}),se.push(()=>re(s,"value",e)),s.$on("click",(function(...e){return t[15](t[31],...e)}));let T=t[31].role_permissions,N=[];for(let e=0;e<T.length;e+=1)N[e]=p(l(t,T,e));const _=t=>qt(N[t],1,1,()=>{N[t]=null});let z=t[31].open&&g(t);return{c(){a=jt("tr"),o=jt("td"),Yt(s.$$.fragment),c=Gt(),i=jt("td"),f=Gt();for(let t=0;t<N.length;t+=1)N[t].c();u=Gt(),d=jt("td"),h=jt("span"),$=te("expand_more"),y=Gt(),z&&z.c(),w=Lt(),this.h()},l(t){var e,n,l,r;a=Bt(t,"TR",{class:!0}),e=Ct(a),o=Bt(e,"TD",{class:!0}),n=Ct(o),Qt(s.$$.fragment,n),n.forEach(St),c=Mt(e),i=Bt(e,"TD",{class:!0}),Ct(i).forEach(St),f=Mt(e);for(let t=0;t<N.length;t+=1)N[t].l(e);u=Mt(e),d=Bt(e,"TD",{class:!0}),l=Ct(d),h=Bt(l,"SPAN",{class:!0}),r=Ct(h),$=ee(r,"expand_more"),r.forEach(St),l.forEach(St),e.forEach(St),y=Mt(t),z&&z.l(t),w=Lt(),this.h()},h(){It(o,"class","svelte-b3tiz"),It(i,"class","svelte-b3tiz"),It(h,"class",b=(t[31].open?"":"rotate")+" w-full h-full text-center material-icons svelte-b3tiz"),It(d,"class","duration-100 cursor-pointer hover:bg-gray-200 svelte-b3tiz"),It(a,"class",v=t[33]%2==0?"bg-gray-100":"")},m(t,e){At(t,a,e),Kt(a,o),Wt(s,o,null),Kt(a,c),Kt(a,i),Kt(a,f);for(let t=0;t<N.length;t+=1)N[t].m(a,null);Kt(a,u),Kt(a,d),Kt(d,h),Kt(h,$),At(t,y,e),z&&z.m(t,e),At(t,w,e),x=!0,E||(k=ne(d,"click",n),E=!0)},p(e,n){t=e;const o={};if(3&n[0]&&(o.readonly=t[0].getReadOnly(t[1])),4&n[0]&&(o.id="table-"+t[31].table),4&n[0]|524288&n[1]&&(o.$$scope={dirty:n,ctx:t}),!r&&4&n[0]&&(r=!0,o.value=t[31].checked,Xt(()=>r=!1)),s.$set(o),7&n[0]){let e;for(T=t[31].role_permissions,e=0;e<T.length;e+=1){const o=l(t,T,e);N[e]?(N[e].p(o,n),Ft(N[e],1)):(N[e]=p(o),N[e].c(),Ft(N[e],1),N[e].m(a,u))}for(Vt(),e=T.length;e<N.length;e+=1)_(e);Ht()}(!x||4&n[0]&&b!==(b=(t[31].open?"":"rotate")+" w-full h-full text-center material-icons svelte-b3tiz"))&&It(h,"class",b),t[31].open?z?(z.p(t,n),4&n[0]&&Ft(z,1)):(z=g(t),z.c(),Ft(z,1),z.m(w.parentNode,w)):z&&(Vt(),qt(z,1,1,()=>{z=null}),Ht())},i(t){if(!x){Ft(s.$$.fragment,t);for(let t=0;t<T.length;t+=1)Ft(N[t]);Ft(z),x=!0}},o(t){qt(s.$$.fragment,t),N=N.filter(Boolean);for(let t=0;t<N.length;t+=1)qt(N[t]);qt(z),x=!1},d(t){t&&St(a),Zt(s),ae(N,t),t&&St(y),z&&z.d(t),t&&St(w),E=!1,k()}}}function E(t){let e,n,l=t[4]===t[28].title&&d(t);return{c(){l&&l.c(),e=Lt()},l(t){l&&l.l(t),e=Lt()},m(t,a){l&&l.m(t,a),At(t,e,a),n=!0},p(t,n){t[4]===t[28].title?l?(l.p(t,n),20&n[0]&&Ft(l,1)):(l=d(t),l.c(),Ft(l,1),l.m(e.parentNode,e)):l&&(Vt(),qt(l,1,1,()=>{l=null}),Ht())},i(t){n||(Ft(l),n=!0)},o(t){qt(l),n=!1},d(t){l&&l.d(t),t&&St(e)}}}function k(){let t,e;return t=new ce({}),{c(){Yt(t.$$.fragment)},l(e){Qt(t.$$.fragment,e)},m(n,l){Wt(t,n,l),e=!0},i(n){e||(Ft(t.$$.fragment,n),e=!0)},o(n){qt(t.$$.fragment,n),e=!1},d(e){Zt(t,e)}}}function D(t){function e(t){return void 0===t[3]?0:void 0!==t[2]?1:-1}let n,l,a,o;const s=[i,c],r=[];return~(l=e(t))&&(a=r[l]=s[l](t)),{c(){n=jt("div"),a&&a.c(),this.h()},l(t){n=Bt(t,"DIV",{class:!0});var e=Ct(n);a&&a.l(e),e.forEach(St),this.h()},h(){It(n,"class","w-full shadow-equal-sm")},m(t,e){At(t,n,e),~l&&r[l].m(n,null),o=!0},p(t,o){let c=l;l=e(t),l===c?~l&&r[l].p(t,o):(a&&(Vt(),qt(r[c],1,1,()=>{r[c]=null}),Ht()),~l?(a=r[l],a||(a=r[l]=s[l](t),a.c()),Ft(a,1),a.m(n,null)):a=null)},i(t){o||(Ft(a),o=!0)},o(t){qt(a),o=!1},d(t){t&&St(n),~l&&r[l].d()}}}function T(t,e,n){function l(t,e){void 0!==s&&(e.column_permissions.filter(e=>e.action===t.action).forEach(e=>{e.checked=!t.checked}),n(2,s))}function a(t){void 0!==s&&(s.filter(t=>t.title===c).forEach(e=>{e.tables.forEach(e=>{e.role_permissions.find(e=>e.action===t.action).checked=!t.checked})}),n(2,s))}function o(){if(void 0===s)return;const t=[],e=[];s.forEach(n=>{n.tables.forEach(n=>{n.role_permissions.forEach(e=>{e.checked&&t.push(e)}),n.column_permissions.forEach(t=>{t.checked||e.push(t)})})}),n(10,f.column_permissions=e,f),n(10,f.permissions=t,f),n(10,f),console.log("role",f)}let s,r,c,{oldData:i}=e,{role:f}=e,{roleTable:u}=e,{id:d}=e,h=!1;const $=["read","read-self","edit","edit-self","delete","delete-self","create"],m=["edit"];return $.forEach((t,e)=>{n(5,$[e]={action:t,checked:!1},$)}),m.forEach((t,e)=>{n(6,m[e]={action:t,checked:!1},m)}),Jt(()=>{h=!0,async function(){h&&(await async function(){if(n(3,r=await ie("http://localhost:8000/api/groups","get",{},!0)),!r.error){const e=r.data.groups;for(let n=0;n<e.length;n+=1){const l=e[n];l.tables=Object.values(l.tables);for(let t=0;t<l.tables.length;t+=1)l.tables[t]=new he(l.tables[t]);l.tables=((t=l.tables).forEach(t=>{t.open=!1,t.role_permissions=[],t.column_permissions=[],$.forEach(e=>{const n={action:e.action,role_id:f.id,table:t.table},l=f.permissions.find(t=>t.table===n.table&&t.action===n.action);void 0!==l?(n.checked=!0,n.id=l.id):(n.checked=!1,n.id=null),t.role_permissions.push(n)}),m.forEach(e=>{t.getColumnNames(t.getEditable()).forEach(n=>{const l={action:e.action,column:n,role_id:f.id,table:t.table},a=f.column_permissions.find(t=>t.table===l.table&&t.action===l.action&&t.column===l.column);void 0!==a?(l.checked=!1,l.id=a.id):(l.checked=!0,l.id=null),t.column_permissions.push(l)})})}),t)}n(2,s=e),n(4,c=s[0].title)}var t}(),o(),n(9,i=JSON.parse(JSON.stringify(f))))}()}),t.$$set=t=>{"oldData"in t&&n(9,i=t.oldData),"role"in t&&n(10,f=t.role),"roleTable"in t&&n(0,u=t.roleTable),"id"in t&&n(1,d=t.id)},t.$$.update=()=>{4&t.$$.dirty[0]&&o(),16&t.$$.dirty[0]&&$.forEach(t=>{t.checked=!1})},[u,d,s,r,c,$,m,l,a,i,f,t=>{n(4,c=t.title)},function(t,e){e.checked=t,n(5,$)},t=>{a(t)},function(t,e){e.checked=t,n(2,s)},t=>{!function(t){t.role_permissions.forEach(e=>{e.checked=!t.checked})}(t)},function(t,e){e.checked=t,n(2,s)},(t,e,l)=>{n(2,e[l].open=!t.open,s)},function(t,e){e.checked=t,n(6,m)},(t,e)=>{l(t,e)},(t,e)=>e.column===t.name,function(t,e){e.checked=t,n(2,s)}]}function N(t,e,n){const l=t.slice();return l[28]=e[n],l[29]=e,l[30]=n,l}function _(t,e,n){const l=t.slice();return l[31]=e[n],l[32]=e,l[33]=n,l}function z(t){let e,n,l,a,o;return{c(){e=jt("a"),n=jt("span"),l=te("navigate_before"),o=Gt(),this.h()},l(t){var a,s;e=Bt(t,"A",{href:!0}),a=Ct(e),n=Bt(a,"SPAN",{class:!0}),s=Ct(n),l=ee(s,"navigate_before"),s.forEach(St),a.forEach(St),o=Mt(t),this.h()},h(){It(n,"class","text-xl text-gray-800 material-icons"),It(e,"href",a="/cms/database/"+t[0])},m(t,a){At(t,e,a),Kt(e,n),Kt(n,l),At(t,o,a)},p(t,n){1&n[0]&&a!==(a="/cms/database/"+t[0])&&It(e,"href",a)},d(t){t&&St(e),t&&St(o)}}}function O(t){let e,n,l,a,o;return n=new Ut({props:{classes:"w-full mb-6",align:"center",justify:"between",$$slots:{default:[S]},$$scope:{ctx:t}}}),a=new Ut({props:{align:"start",$$slots:{default:[X]},$$scope:{ctx:t}}}),{c(){e=jt("div"),Yt(n.$$.fragment),l=Gt(),Yt(a.$$.fragment),this.h()},l(t){e=Bt(t,"DIV",{class:!0});var o=Ct(e);Qt(n.$$.fragment,o),l=Mt(o),Qt(a.$$.fragment,o),o.forEach(St),this.h()},h(){It(e,"class","p-4 overflow-y-scroll min-h-full-minus-nav")},m(t,s){At(t,e,s),Wt(n,e,null),Kt(e,l),Wt(a,e,null),o=!0},p(t,e){const l={};178&e[0]|8&e[1]&&(l.$$scope={dirty:e,ctx:t}),n.$set(l);const o={};891&e[0]|8&e[1]&&(o.$$scope={dirty:e,ctx:t}),a.$set(o)},i(t){o||(Ft(n.$$.fragment,t),Ft(a.$$.fragment,t),o=!0)},o(t){qt(n.$$.fragment,t),qt(a.$$.fragment,t),o=!1},d(t){t&&St(e),Zt(n),Zt(a)}}}function P(t){let e,n;return e=new Ut({props:{classes:"w-full full-minus-nav",justify:"center",align:"center",$$slots:{default:[Z]},$$scope:{ctx:t}}}),{c(){Yt(e.$$.fragment)},l(t){Qt(e.$$.fragment,t)},m(t,l){Wt(e,t,l),n=!0},p(t,n){const l={};8&n[1]&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ft(e.$$.fragment,t),n=!0)},o(t){qt(e.$$.fragment,t),n=!1},d(t){Zt(e,t)}}}function R(t){let e,n;return e=new ue({props:{color:"bg-cmsSuccessGreen",buttonFunction:t[12],$$slots:{default:[j]},$$scope:{ctx:t}}}),{c(){Yt(e.$$.fragment)},l(t){Qt(e.$$.fragment,t)},m(t,l){Wt(e,t,l),n=!0},p(t,n){const l={};8&n[1]&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ft(e.$$.fragment,t),n=!0)},o(t){qt(e.$$.fragment,t),n=!1},d(t){Zt(e,t)}}}function j(){let t;return{c(){t=te("Erstellen")},l(e){t=ee(e,"Erstellen")},m(e,n){At(e,t,n)},d(e){e&&St(t)}}}function B(t){let e,n;return e=new ue({props:{buttonFunction:t[11],disabled:!t[7],$$slots:{default:[C]},$$scope:{ctx:t}}}),{c(){Yt(e.$$.fragment)},l(t){Qt(e.$$.fragment,t)},m(t,l){Wt(e,t,l),n=!0},p(t,n){const l={};128&n[0]&&(l.disabled=!t[7]),8&n[1]&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ft(e.$$.fragment,t),n=!0)},o(t){qt(e.$$.fragment,t),n=!1},d(t){Zt(e,t)}}}function C(){let t;return{c(){t=te("Speichern")},l(e){t=ee(e,"Speichern")},m(e,n){At(e,t,n)},d(e){e&&St(t)}}}function S(t){let e,n,l,a,o,s,r=t[4][t[5].getDisplayValue()]+"",c=t[5].getPermissions().create&&"new"===t[1],i=t[5].getPermissions().edit&&"new"!==t[1],f=c&&R(t),u=i&&B(t);return{c(){e=jt("h5"),n=te(r),l=Gt(),f&&f.c(),a=Gt(),u&&u.c(),o=Lt()},l(t){e=Bt(t,"H5",{});var s=Ct(e);n=ee(s,r),s.forEach(St),l=Mt(t),f&&f.l(t),a=Mt(t),u&&u.l(t),o=Lt()},m(t,r){At(t,e,r),Kt(e,n),At(t,l,r),f&&f.m(t,r),At(t,a,r),u&&u.m(t,r),At(t,o,r),s=!0},p(t,e){(!s||48&e[0])&&r!==(r=t[4][t[5].getDisplayValue()]+"")&&le(n,r),34&e[0]&&(c=t[5].getPermissions().create&&"new"===t[1]),c?f?(f.p(t,e),34&e[0]&&Ft(f,1)):(f=R(t),f.c(),Ft(f,1),f.m(a.parentNode,a)):f&&(Vt(),qt(f,1,1,()=>{f=null}),Ht()),34&e[0]&&(i=t[5].getPermissions().edit&&"new"!==t[1]),i?u?(u.p(t,e),34&e[0]&&Ft(u,1)):(u=B(t),u.c(),Ft(u,1),u.m(o.parentNode,o)):u&&(Vt(),qt(u,1,1,()=>{u=null}),Ht())},i(t){s||(Ft(f),Ft(u),s=!0)},o(t){qt(f),qt(u),s=!1},d(t){t&&St(e),t&&St(l),f&&f.d(t),t&&St(a),u&&u.d(t),t&&St(o)}}}function I(t){let e,n=t[31].name+"";return{c(){e=te(n)},l(t){e=ee(t,n)},m(t,n){At(t,e,n)},p(t,l){64&l[0]&&n!==(n=t[31].name+"")&&le(e,n)},d(t){t&&St(e)}}}function A(t){function e(e){t[13].call(null,e,t[31])}let n,l,a,o,s,r={id:t[5]+"-"+t[1]+"-"+t[31].name,type:t[31].inputType,labelClasses:"text-black font-bold capitalize",inputClasses:" "+("radio"===t[31].type?"w-10 h-5":""),autocomplete:t[31].autocomplete,readonly:t[5].getReadOnly(t[1],t[31].name),required:t[31].required,options:lt(t[31].enum),error:void 0!==t[9][t[31].name]&&t[9][t[31].name][0],$$slots:{default:[I]},$$scope:{ctx:t}};return void 0!==t[4][t[31].name]&&(r.value=t[4][t[31].name]),l=new fe({props:r}),se.push(()=>re(l,"value",e)),{c(){n=jt("div"),Yt(l.$$.fragment),o=Gt(),this.h()},l(t){n=Bt(t,"DIV",{class:!0});var e=Ct(n);Qt(l.$$.fragment,e),o=Mt(e),e.forEach(St),this.h()},h(){It(n,"class","m-2 w-80")},m(t,e){At(t,n,e),Wt(l,n,null),Kt(n,o),s=!0},p(e,n){t=e;const o={};98&n[0]&&(o.id=t[5]+"-"+t[1]+"-"+t[31].name),64&n[0]&&(o.type=t[31].inputType),64&n[0]&&(o.inputClasses=" "+("radio"===t[31].type?"w-10 h-5":"")),64&n[0]&&(o.autocomplete=t[31].autocomplete),98&n[0]&&(o.readonly=t[5].getReadOnly(t[1],t[31].name)),64&n[0]&&(o.required=t[31].required),64&n[0]&&(o.options=lt(t[31].enum)),576&n[0]&&(o.error=void 0!==t[9][t[31].name]&&t[9][t[31].name][0]),64&n[0]|8&n[1]&&(o.$$scope={dirty:n,ctx:t}),!a&&80&n[0]&&(a=!0,o.value=t[4][t[31].name],Xt(()=>a=!1)),l.$set(o)},i(t){s||(Ft(l.$$.fragment,t),s=!0)},o(t){qt(l.$$.fragment,t),s=!1},d(t){t&&St(n),Zt(l)}}}function V(t){let e,n,l=t[6],a=[];for(let e=0;e<l.length;e+=1)a[e]=A(_(t,l,e));const o=t=>qt(a[t],1,1,()=>{a[t]=null});return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=Lt()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=Lt()},m(t,l){for(let e=0;e<a.length;e+=1)a[e].m(t,l);At(t,e,l),n=!0},p(t,n){if(626&n[0]){let s;for(l=t[6],s=0;s<l.length;s+=1){const o=_(t,l,s);a[s]?(a[s].p(o,n),Ft(a[s],1)):(a[s]=A(o),a[s].c(),Ft(a[s],1),a[s].m(e.parentNode,e))}for(Vt(),s=l.length;s<a.length;s+=1)o(s);Ht()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)Ft(a[t]);n=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)qt(a[t]);n=!1},d(t){ae(a,t),t&&St(e)}}}function q(t){function e(e){t[14].call(null,e)}function n(e){t[15].call(null,e)}let l,a,o,s,r={id:t[1],roleTable:t[5]};return void 0!==t[4]&&(r.role=t[4]),void 0!==t[3]&&(r.oldData=t[3]),l=new AddRole({props:r}),se.push(()=>re(l,"role",e)),se.push(()=>re(l,"oldData",n)),{c(){Yt(l.$$.fragment)},l(t){Qt(l.$$.fragment,t)},m(t,e){Wt(l,t,e),s=!0},p(t,e){const n={};2&e[0]&&(n.id=t[1]),32&e[0]&&(n.roleTable=t[5]),!a&&16&e[0]&&(a=!0,n.role=t[4],Xt(()=>a=!1)),!o&&8&e[0]&&(o=!0,n.oldData=t[3],Xt(()=>o=!1)),l.$set(n)},i(t){s||(Ft(l.$$.fragment,t),s=!0)},o(t){qt(l.$$.fragment,t),s=!1},d(t){Zt(l,t)}}}function H(t){let e,n,l,a;e=new Ut({props:{classes:"w-full mb-4 p-2 shadow-equal-sm h-auto",wrap:"true",$$slots:{default:[V]},$$scope:{ctx:t}}});let o="roles"===t[0]&&q(t);return{c(){Yt(e.$$.fragment),n=Gt(),o&&o.c(),l=Lt()},l(t){Qt(e.$$.fragment,t),n=Mt(t),o&&o.l(t),l=Lt()},m(t,s){Wt(e,t,s),At(t,n,s),o&&o.m(t,s),At(t,l,s),a=!0},p(t,n){const a={};626&n[0]|8&n[1]&&(a.$$scope={dirty:n,ctx:t}),e.$set(a),"roles"===t[0]?o?(o.p(t,n),1&n[0]&&Ft(o,1)):(o=q(t),o.c(),Ft(o,1),o.m(l.parentNode,l)):o&&(Vt(),qt(o,1,1,()=>{o=null}),Ht())},i(t){a||(Ft(e.$$.fragment,t),Ft(o),a=!0)},o(t){qt(e.$$.fragment,t),qt(o),a=!1},d(t){Zt(e,t),t&&St(n),o&&o.d(t),t&&St(l)}}}function F(t){let e,n,l,a,o,s,r;o=new Ut({props:{classes:"w-full",justify:"between",$$slots:{default:[J]},$$scope:{ctx:t}}});let c=void 0!==t[4].created_by&&U(t);return{c(){e=jt("div"),n=jt("h5"),l=te("Informationen"),a=Gt(),Yt(o.$$.fragment),s=Gt(),c&&c.c(),this.h()},l(t){var r,i;e=Bt(t,"DIV",{class:!0}),r=Ct(e),n=Bt(r,"H5",{class:!0}),i=Ct(n),l=ee(i,"Informationen"),i.forEach(St),a=Mt(r),Qt(o.$$.fragment,r),s=Mt(r),c&&c.l(r),r.forEach(St),this.h()},h(){It(n,"class","svelte-p8ains"),It(e,"class","mb-4 side-card svelte-p8ains")},m(t,i){At(t,e,i),Kt(e,n),Kt(n,l),Kt(e,a),Wt(o,e,null),Kt(e,s),c&&c.m(e,null),r=!0},p(t,n){const l={};16&n[0]|8&n[1]&&(l.$$scope={dirty:n,ctx:t}),o.$set(l),void 0!==t[4].created_by?c?(c.p(t,n),16&n[0]&&Ft(c,1)):(c=U(t),c.c(),Ft(c,1),c.m(e,null)):c&&(Vt(),qt(c,1,1,()=>{c=null}),Ht())},i(t){r||(Ft(o.$$.fragment,t),Ft(c),r=!0)},o(t){qt(o.$$.fragment,t),qt(c),r=!1},d(t){t&&St(e),Zt(o),c&&c.d()}}}function J(t){let e,n,l,a,o,s=$e(t[4].updated_at)+"";return{c(){e=jt("p"),n=te("Letztes Update"),l=Gt(),a=jt("p"),o=te(s),this.h()},l(t){var r,c;e=Bt(t,"P",{class:!0}),r=Ct(e),n=ee(r,"Letztes Update"),r.forEach(St),l=Mt(t),a=Bt(t,"P",{class:!0}),c=Ct(a),o=ee(c,s),c.forEach(St),this.h()},h(){It(e,"class","font-bold text-gray-500 text-xss"),It(a,"class","font-bold text-xss")},m(t,s){At(t,e,s),Kt(e,n),At(t,l,s),At(t,a,s),Kt(a,o)},p(t,e){16&e[0]&&s!==(s=$e(t[4].updated_at)+"")&&le(o,s)},d(t){t&&St(e),t&&St(l),t&&St(a)}}}function U(t){let e,n;return e=new Ut({props:{classes:"w-full",justify:"between",$$slots:{default:[L]},$$scope:{ctx:t}}}),{c(){Yt(e.$$.fragment)},l(t){Qt(e.$$.fragment,t)},m(t,l){Wt(e,t,l),n=!0},p(t,n){const l={};16&n[0]|8&n[1]&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ft(e.$$.fragment,t),n=!0)},o(t){qt(e.$$.fragment,t),n=!1},d(t){Zt(e,t)}}}function L(t){let e,n,l,a,o,s=t[4].created_by.name+"";return{c(){e=jt("p"),n=te("Erstellt von:"),l=Gt(),a=jt("p"),o=te(s),this.h()},l(t){var r,c;e=Bt(t,"P",{class:!0}),r=Ct(e),n=ee(r,"Erstellt von:"),r.forEach(St),l=Mt(t),a=Bt(t,"P",{class:!0}),c=Ct(a),o=ee(c,s),c.forEach(St),this.h()},h(){It(e,"class","font-bold text-gray-500 text-xss"),It(a,"class","font-bold text-xss")},m(t,s){At(t,e,s),Kt(e,n),At(t,l,s),At(t,a,s),Kt(a,o)},p(t,e){16&e[0]&&s!==(s=t[4].created_by.name+"")&&le(o,s)},d(t){t&&St(e),t&&St(l),t&&St(a)}}}function G(t){function e(e){t[16].call(null,e,t[28])}let n,l,a,o,s,r,c,i=t[28].functionName+"",f={class:"w-full",readonly:t[5].getReadOnly(t[1],t[28].name),error:void 0!==t[9][t[28].name]&&t[9][t[28].name][0],type:"enum",options:nt(t[28])};return void 0!==t[4][t[28].name]&&(f.value=t[4][t[28].name]),s=new fe({props:f}),se.push(()=>re(s,"value",e)),{c(){n=jt("div"),l=jt("h5"),a=te(i),o=Gt(),Yt(s.$$.fragment),this.h()},l(t){var e,r;n=Bt(t,"DIV",{class:!0}),e=Ct(n),l=Bt(e,"H5",{class:!0}),r=Ct(l),a=ee(r,i),r.forEach(St),o=Mt(e),Qt(s.$$.fragment,e),e.forEach(St),this.h()},h(){It(l,"class","capitalize svelte-p8ains"),It(n,"class","mb-4 side-card svelte-p8ains")},m(t,e){At(t,n,e),Kt(n,l),Kt(l,a),Kt(n,o),Wt(s,n,null),c=!0},p(e,n){t=e,(!c||256&n[0])&&i!==(i=t[28].functionName+"")&&le(a,i);const l={};290&n[0]&&(l.readonly=t[5].getReadOnly(t[1],t[28].name)),768&n[0]&&(l.error=void 0!==t[9][t[28].name]&&t[9][t[28].name][0]),256&n[0]&&(l.options=nt(t[28])),!r&&272&n[0]&&(r=!0,l.value=t[4][t[28].name],Xt(()=>r=!1)),s.$set(l)},i(t){c||(Ft(s.$$.fragment,t),c=!0)},o(t){qt(s.$$.fragment,t),c=!1},d(t){t&&St(n),Zt(s)}}}function M(t){let e,n,l=t[4][t[28].name]!==[]&&void 0!==t[28].data&&G(t);return{c(){l&&l.c(),e=Lt()},l(t){l&&l.l(t),e=Lt()},m(t,a){l&&l.m(t,a),At(t,e,a),n=!0},p(t,n){t[4][t[28].name]!==[]&&void 0!==t[28].data?l?(l.p(t,n),272&n[0]&&Ft(l,1)):(l=G(t),l.c(),Ft(l,1),l.m(e.parentNode,e)):l&&(Vt(),qt(l,1,1,()=>{l=null}),Ht())},i(t){n||(Ft(l),n=!0)},o(t){qt(l),n=!1},d(t){l&&l.d(t),t&&St(e)}}}function K(t){let e,n;return e=new ue({props:{buttonFunction:t[10],classes:"w-full shadow-equal-sm",color:"bg-cmsErrorRed",$$slots:{default:[Q]},$$scope:{ctx:t}}}),{c(){Yt(e.$$.fragment)},l(t){Qt(e.$$.fragment,t)},m(t,l){Wt(e,t,l),n=!0},p(t,n){const l={};8&n[1]&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ft(e.$$.fragment,t),n=!0)},o(t){qt(e.$$.fragment,t),n=!1},d(t){Zt(e,t)}}}function Y(){let t,e,n,l,a;return{c(){t=jt("span"),e=te("delete"),n=Gt(),l=jt("p"),a=te("Diesen Eintrag löschen"),this.h()},l(o){var s,r;t=Bt(o,"SPAN",{class:!0}),s=Ct(t),e=ee(s,"delete"),s.forEach(St),n=Mt(o),l=Bt(o,"P",{class:!0}),r=Ct(l),a=ee(r,"Diesen Eintrag löschen"),r.forEach(St),this.h()},h(){It(t,"class","mr-2 material-icons"),It(l,"class","text-xss")},m(o,s){At(o,t,s),Kt(t,e),At(o,n,s),At(o,l,s),Kt(l,a)},d(e){e&&St(t),e&&St(n),e&&St(l)}}}function Q(t){let e,n;return e=new Ut({props:{align:"center",$$slots:{default:[Y]},$$scope:{ctx:t}}}),{c(){Yt(e.$$.fragment)},l(t){Qt(e.$$.fragment,t)},m(t,l){Wt(e,t,l),n=!0},p(t,n){const l={};8&n[1]&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ft(e.$$.fragment,t),n=!0)},o(t){qt(e.$$.fragment,t),n=!1},d(t){Zt(e,t)}}}function W(t){let e,n,l,a,o=t[5].getPermissions().delete&&"new"!==t[1],s="new"!==t[1]&&F(t),r=t[8],c=[];for(let e=0;e<r.length;e+=1)c[e]=M(N(t,r,e));const i=t=>qt(c[t],1,1,()=>{c[t]=null});let f=o&&K(t);return{c(){s&&s.c(),e=Gt();for(let t=0;t<c.length;t+=1)c[t].c();n=Gt(),f&&f.c(),l=Lt()},l(t){s&&s.l(t),e=Mt(t);for(let e=0;e<c.length;e+=1)c[e].l(t);n=Mt(t),f&&f.l(t),l=Lt()},m(t,o){s&&s.m(t,o),At(t,e,o);for(let e=0;e<c.length;e+=1)c[e].m(t,o);At(t,n,o),f&&f.m(t,o),At(t,l,o),a=!0},p(t,a){if("new"!==t[1]?s?(s.p(t,a),2&a[0]&&Ft(s,1)):(s=F(t),s.c(),Ft(s,1),s.m(e.parentNode,e)):s&&(Vt(),qt(s,1,1,()=>{s=null}),Ht()),818&a[0]){let e;for(r=t[8],e=0;e<r.length;e+=1){const l=N(t,r,e);c[e]?(c[e].p(l,a),Ft(c[e],1)):(c[e]=M(l),c[e].c(),Ft(c[e],1),c[e].m(n.parentNode,n))}for(Vt(),e=r.length;e<c.length;e+=1)i(e);Ht()}34&a[0]&&(o=t[5].getPermissions().delete&&"new"!==t[1]),o?f?(f.p(t,a),34&a[0]&&Ft(f,1)):(f=K(t),f.c(),Ft(f,1),f.m(l.parentNode,l)):f&&(Vt(),qt(f,1,1,()=>{f=null}),Ht())},i(t){if(!a){Ft(s);for(let t=0;t<r.length;t+=1)Ft(c[t]);Ft(f),a=!0}},o(t){qt(s),c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)qt(c[t]);qt(f),a=!1},d(t){s&&s.d(t),t&&St(e),ae(c,t),t&&St(n),f&&f.d(t),t&&St(l)}}}function X(t){let e,n,l,a;return e=new Ut({props:{classes:"w-3/4",cols:"true",$$slots:{default:[H]},$$scope:{ctx:t}}}),l=new Ut({props:{classes:"ml-4 w-1/4",cols:"true",$$slots:{default:[W]},$$scope:{ctx:t}}}),{c(){Yt(e.$$.fragment),n=Gt(),Yt(l.$$.fragment)},l(t){Qt(e.$$.fragment,t),n=Mt(t),Qt(l.$$.fragment,t)},m(t,o){Wt(e,t,o),At(t,n,o),Wt(l,t,o),a=!0},p(t,n){const a={};635&n[0]|8&n[1]&&(a.$$scope={dirty:n,ctx:t}),e.$set(a);const o={};818&n[0]|8&n[1]&&(o.$$scope={dirty:n,ctx:t}),l.$set(o)},i(t){a||(Ft(e.$$.fragment,t),Ft(l.$$.fragment,t),a=!0)},o(t){qt(e.$$.fragment,t),qt(l.$$.fragment,t),a=!1},d(t){Zt(e,t),t&&St(n),Zt(l,t)}}}function Z(){let t,e;return t=new ce({}),{c(){Yt(t.$$.fragment)},l(e){Qt(t.$$.fragment,e)},m(n,l){Wt(t,n,l),e=!0},i(n){e||(Ft(t.$$.fragment,n),e=!0)},o(n){qt(t.$$.fragment,n),e=!1},d(e){Zt(t,e)}}}function tt(t){function e(t){return void 0===t[2]?0:void 0!==t[5]&&void 0!==t[4]?1:-1}let n,l,a,o,s;n=new de({props:{$$slots:{default:[z]},$$scope:{ctx:t}}});const r=[P,O],c=[];return~(l=e(t))&&(a=c[l]=r[l](t)),{c(){Yt(n.$$.fragment),a&&a.c(),o=Lt()},l(t){Qt(n.$$.fragment,t),a&&a.l(t),o=Lt()},m(t,e){Wt(n,t,e),~l&&c[l].m(t,e),At(t,o,e),s=!0},p(t,s){const i={};1&s[0]|8&s[1]&&(i.$$scope={dirty:s,ctx:t}),n.$set(i);let f=l;l=e(t),l===f?~l&&c[l].p(t,s):(a&&(Vt(),qt(c[f],1,1,()=>{c[f]=null}),Ht()),~l?(a=c[l],a||(a=c[l]=r[l](t),a.c()),Ft(a,1),a.m(o.parentNode,o)):a=null)},i(t){s||(Ft(n.$$.fragment,t),Ft(a),s=!0)},o(t){qt(n.$$.fragment,t),qt(a),s=!1},d(t){Zt(n,t),~l&&c[l].d(t),t&&St(o)}}}async function et({params:t,path:e},{globals:n}){const l=t.slug,a=e.split("/"),o=a[a.length-2],s=await ie(`${n.apiUrl}/${o}`,"get",{},!1);return 404===s.status&&this.error(s.status,s.data.response.statusText),{id:l,tableName:o}}function nt(t){const e=t.table.getDisplayValue();return t.data.map(t=>({name:t[e],value:t.id}))}function lt(t){return void 0===t?[]:t.map(t=>({name:t,value:t}))}function at(t,e,n){function l(t){d.getNoDefaults(d.getTableColumns(d.getFillable(d.columns))).forEach(e=>{void 0===t[e.name]&&(t[e.name]=null)}),d.getNoDefaults(d.relations).forEach(e=>{void 0===t[e.functionName]&&(t[e.functionName]=[])}),n(4,u=t),n(3,f=JSON.parse(JSON.stringify(u)))}async function a(){let t={};if("new"!==m){if(n(2,i=await ie(`http://localhost:8000/api/${$}?id=${m}`,"get",{},!0)),i.error)return;t=i.data[$][0]}l(t)}async function o(t){let e;if(n(2,i=await ie("http://localhost:8000/api/tables?table="+t,"get",{},!0)),200===i.status&&i.data.tables.length>0)return e=new he(i.data.tables[0]),n(2,i=await ie(`http://localhost:8000/api/${e.table}?_norelations=true`,"get",{},!0)),i.error?void 0:{data:i.data[e.table],table:e}}async function s(){!1!==v&&(n(2,i=void 0),n(5,d=void 0),n(4,u=void 0),await async function(){n(2,i=await ie("http://localhost:8000/api/tables?table="+$,"get",{},!0)),i.error||(n(5,d=new he(i.data.tables[0])),n(6,h=d.getFillable(d.getNoDefaults(d.columns))),async function(){const t=d.getNoDefaults(d.getTableColumns(d.relations));for(let e=t.length-1;e>-1;e-=1){const n=await o([t[e].foreignTable]);void 0!==n?(t[e].data=n.data,t[e].table=n.table):t.splice(e,1)}n(8,g=t)}())}(),a())}async function r(t,e,n){"new"===m&&u[t].forEach(t=>{t.role_id=n.id});let l=Tt(f[t],u[t],_e);const a=Tt(u[t],f[t],_e);l.length>0&&(l=l.map(t=>t.id),await ie(e,"delete",{ids:l},!0)),a.length>0&&await ie(e,"post",a,!0)}function c(t){"roles"===d.table&&(r("permissions","http://localhost:8000/api/permissions?_norelations=true",t),r("column_permissions","http://localhost:8000/api/column_permissions?_norelations=true",t))}let i,f,u,d,h,{tableName:$}=e,{id:m}=e,p=!1,g=[],b={},v=!1;return Jt(async()=>{v=!0,await s()}),t.$$set=t=>{"tableName"in t&&n(0,$=t.tableName),"id"in t&&n(1,m=t.id)},t.$$.update=()=>{16&t.$$.dirty[0]&&void 0!==u&&void 0!==f&&(_e(u,f)?n(7,p=!1):n(7,p=!0)),1&t.$$.dirty[0]&&s(),2&t.$$.dirty[0]&&async function(){!1!==v&&(n(2,i=void 0),n(4,u=void 0),a())}()},[$,m,i,f,u,d,h,p,g,b,async function(){n(2,i=await ie(`http://localhost:8000/api/${$}?id=${m}&_norelations=true`,"delete",{},!0)),!0!==i.error&&window.history.go(-1)},async function(){if(!d.getPermissions().edit)return;n(4,u=d.modifyData(u));const t=Ne(u,f);c(),n(2,i=await ie(`http://localhost:8000/api/${$}?id=${m}`,"put",t,!0)),200===i.status?(l(i.data[$][0]),n(9,b=[])):400===i.status&&n(9,b=i.data)},async function(){if(d.getPermissions().create){if(n(4,u=d.modifyData(u)),n(2,i=await ie("http://localhost:8000/api/"+$,"post",u,!0)),200===i.status){const t=i.data[$][0];c(t),l(t),n(9,b=[]),window.history.go(-1)}400===i.status&&n(9,b=i.data)}},function(t,e){u[e.name]=t,n(4,u)},function(t){u=t,n(4,u)},function(t){f=t,n(3,f)},function(t,e){u[e.name]=t,n(4,u)}]}var ot,st,rt,ct,it,ft,ut,dt,ht,$t,mt,pt,gt,bt,vt,yt,wt,xt,Et,kt,Dt,Tt,Nt,_t,zt;import{S as Ot,i as Pt,s as Rt,e as jt,b as Bt,d as Ct,g as St,k as It,m as At,G as Vt,q as qt,H as Ht,p as Ft,J as Jt,F as Ut,y as Lt,a as Gt,h as Mt,n as Kt,c as Yt,j as Qt,o as Wt,O as Xt,r as Zt,t as te,f as ee,N as ne,C as le,z as ae,l as oe,K as se,M as re,_ as ce,$ as ie}from"./client.897a0b43.js";import{I as fe}from"./Input.ec502a97.js";import{B as ue}from"./Button.a01b7f4c.js";import{T as de}from"./TopNav.2681359b.js";import{T as he,g as $e}from"./table.8f7a7926.js";import{_ as me,a as pe,b as ge,c as be,d as ve,i as ye,e as we,f as xe,g as Ee,h as ke,j as De,k as Te,l as Ne,m as _e}from"./object.b0e10dc7.js";ot=function(t,e,n,l){for(var a=t.length,o=n+(l?1:-1);l?o--:++o<a;)if(e(t[o],o,t))return o;return-1},st=function(t){return t!=t},rt=function(t,e,n){for(var l=n-1,a=t.length;++l<a;)if(t[l]===e)return l;return-1},ct=function(t,e,n){return e==e?rt(t,e,n):ot(t,st,n)},it=function(t,e){return!(null==t||!t.length)&&ct(t,e,0)>-1},ft=function(t,e,n){for(var l=-1,a=null==t?0:t.length;++l<a;)if(n(e,t[l]))return!0;return!1},ut=function(t,e,n,l){var a,o,s,r=-1,c=it,i=!0,f=t.length,u=[],d=e.length;if(!f)return u;n&&(e=me(e,ge(n))),l?(c=ft,i=!1):e.length>=200&&(c=be,i=!1,e=new pe(e));t:for(;++r<f;)if(a=t[r],o=null==n?a:n(a),a=l||0!==a?a:0,i&&o==o){for(s=d;s--;)if(e[s]===o)continue t;u.push(a)}else c(e,o,l)||u.push(a);return u},dt=ve?ve.isConcatSpreadable:void 0,ht=function(t){return ye(t)||we(t)||!!(dt&&t&&t[dt])},$t=function t(e,n,l,a,o){var s,r=-1,c=e.length;for(l||(l=ht),o||(o=[]);++r<c;)s=e[r],n>0&&l(s)?n>1?t(s,n-1,l,a,o):xe(o,s):a||(o[o.length]=s);return o},mt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},pt=Math.max,gt=function(t,e,n){return e=pt(void 0===e?t.length-1:e,0),function(){for(var l,a=arguments,o=-1,s=pt(a.length-e,0),r=Array(s);++o<s;)r[o]=a[e+o];for(o=-1,l=Array(e+1);++o<e;)l[o]=a[o];return l[e]=n(r),mt(t,this,l)}},bt=function(t){return function(){return t}},vt=function(){try{var t=Ee(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),wt=Date.now,Nt=(yt=vt)?function(t,e){return yt(t,"toString",{configurable:!0,enumerable:!1,value:bt(e),writable:!0})}:ke,_t=0,zt=0,xt=function(){var t=wt(),e=16-(t-zt);if(zt=t,e>0){if(++_t>=800)return arguments[0]}else _t=0;return Nt.apply(void 0,arguments)},Et=function(t){return De(t)&&Te(t)},kt=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},Dt=function(t){return xt(gt(t,void 0,ke),t+"")}((function(t,e){var n=kt(e);return Et(n)&&(n=void 0),Et(t)?ut(t,$t(e,1,Et,!0),void 0,n):[]})),Tt=Dt;class AddRole extends Ot{constructor(t){super(),Pt(this,t,T,D,Rt,{oldData:9,role:10,roleTable:0,id:1},[-1,-1])}}export default class U5Bslugu5D extends Ot{constructor(t){super(),Pt(this,t,at,tt,Rt,{tableName:0,id:1},[-1,-1])}}export{et as preload};
