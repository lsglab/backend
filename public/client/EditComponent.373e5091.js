import{S as e}from"./ShortText.6bb5c387.js";import{L as t}from"./Link.e4419525.js";import{I as n}from"./Img.2a054bb6.js";import{L as i}from"./LongText.8459f99d.js";class EditComponent{constructor(e,t){this.component=e,this.blueprint={},this.children=[],this.childrenTypes=[],this.props={},this.parent=t,this.slot=!1}deleteChild(e){const t=this.children.indexOf(e);void 0!==t&&this.children.splice(t,1)}blueprintKeys(e){Object.keys(this.blueprint).forEach(t=>{"children"!==t&&e(t)})}save(e){const t={blueprint:{},children:[],childrenTypes:this.childrenTypes,componentName:this.component.name,props:this.props,slot:this.slot};return this.blueprintKeys(n=>{t.blueprint[n]=this.blueprint[n].save(e)}),this.children.forEach(n=>{t.children.push(n.save(e))}),t}prepareInput(e){this.children.forEach(t=>{t.prepareInput(e)})}createFromData(r,s,h=null){return this.component=s.find(e=>e.name===r.componentName),this.children=r.children,this.childrenTypes=r.childrenTypes,this.props=r.props,this.parent=h,this.slot=r.slot,Object.keys(r.blueprint).forEach(s=>{this.blueprint[s]=function(r){function s(e){return e.createFromData(r),e}switch(r.type){case"img":return s(new n);case"link":return s(new t);case"shortText":return s(new e);case"longText":return s(new i)}return!1}(r.blueprint[s])}),this.childrenTypes.forEach((e,t)=>{0===t&&(this.blueprint.children=[]);const n=s.find(t=>t.name===e);this.blueprint.children.push(n)}),this.children=this.children.map(e=>(new EditComponent).createFromData(e,s,this)),this}}export{EditComponent as E};
