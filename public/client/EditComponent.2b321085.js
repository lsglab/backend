import{L as e}from"./Link.6aef1317.js";import{W as t,S as n}from"./ShortText.0394cb61.js";import{I as r}from"./Img.58920e98.js";import{L as i}from"./LongText.c4f18048.js";class EditComponent extends t{constructor(e,t){super(),this.component=e,this.blueprint={},this.children=[],this.childrenTypes=[],this.props={},this.parent=t,this.slot=!1}deleteChild(e){const t=this.children.indexOf(e);void 0!==t&&this.children.splice(t,1)}blueprintKeys(e){Object.keys(this.blueprint).forEach(t=>{"children"!==t&&e(t)})}save(e){const t={blueprint:{},children:[],childrenTypes:this.childrenTypes,componentName:this.component.name,props:this.props,slot:this.slot};return this.blueprintKeys(n=>{t.blueprint[n]=this.blueprint[n].save(e)}),this.children.forEach(n=>{t.children.push(n.save(e))}),t}prepareInput(e){this.children.forEach(t=>{t.prepareInput(e)})}createFromData(t,s,h=null){return this.component=s.find(e=>e.name===t.componentName),this.children=t.children,this.childrenTypes=t.childrenTypes,this.props=t.props,this.parent=h,this.slot=t.slot,Object.keys(t.blueprint).forEach(s=>{this.blueprint[s]=function(t){function s(e){return e.createFromData(t),e}switch(t.type){case"img":return s(new r);case"link":return s(new e);case"shortText":return s(new n);case"longText":return s(new i)}return!1}(t.blueprint[s])}),this.childrenTypes.forEach((e,t)=>{0===t&&(this.blueprint.children=[]);const n=s.find(t=>t.name===e);this.blueprint.children.push(n)}),this.children=this.children.map(e=>(new EditComponent).createFromData(e,s,this)),this}}export{EditComponent as E};
