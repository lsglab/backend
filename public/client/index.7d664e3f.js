function t(t){let e;const n=t[4].default,l=zt(n,t,t[5],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,e){l&&l.p&&32&e&&Lt(l,n,t,t[5],e,null,null)},i(t){e||(Ut(l,t),e=!0)},o(t){Ht(l,t),e=!1},d(t){l&&l.d(t)}}}function e(){let t;return{c(){t=Nt("div"),this.h()},l(e){t=Rt(e,"DIV",{class:!0}),_t(t).forEach(kt),this.h()},h(){Pt(t,"class","bg-gray-700 aspect-ratio svelte-72h7sm")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function n(n){let l,s,o,c,a,r,i,$,u,f,d,p,m;c=new Ot({props:{classes:"pt-1 float-right px-1 w-full",justify:n[3],$$slots:{default:[t]},$$scope:{ctx:n}}});let h=n[2]&&e();const g=n[4].overlay,b=zt(g,n,n[5],Ee),y=n[4].status,v=zt(y,n,n[5],we);return{c(){l=Nt("div"),s=Nt("div"),o=Nt("div"),Bt(c.$$.fragment),a=Mt(),h&&h.c(),r=Mt(),i=Nt("img"),f=Mt(),b&&b.c(),d=Mt(),v&&v.c(),this.h()},l(t){var e,n,$;l=Rt(t,"DIV",{class:!0}),e=_t(l),s=Rt(e,"DIV",{class:!0}),n=_t(s),o=Rt(n,"DIV",{class:!0}),$=_t(o),St(c.$$.fragment,$),$.forEach(kt),a=At(n),h&&h.l(n),r=At(n),i=Rt(n,"IMG",{class:!0,src:!0,alt:!0}),f=At(n),b&&b.l(n),n.forEach(kt),d=At(e),v&&v.l(e),e.forEach(kt),this.h()},h(){Pt(o,"class","absolute top-0 left-0 w-full h-full opacity-0 hover:opacity-100"),Pt(i,"class",$=Ct(n[2]?"absolute bottom-0 left-0 right-0 top-1/2 img":"")+" svelte-72h7sm"),i.src!==(u=n[1])&&Pt(i,"src",u),Pt(i,"alt",""),Pt(s,"class","relative inline-block w-full align-center"),Pt(l,"class",p=Ct(n[0])+" svelte-72h7sm")},m(t,e){qt(t,l,e),Tt(l,s),Tt(s,o),Gt(c,o,null),Tt(s,a),h&&h.m(s,null),Tt(s,r),Tt(s,i),Tt(s,f),b&&b.m(s,null),Tt(l,d),v&&v.m(l,null),m=!0},p(t,[n]){const o={};8&n&&(o.justify=t[3]),32&n&&(o.$$scope={dirty:n,ctx:t}),c.$set(o),t[2]?h||(h=e(),h.c(),h.m(s,r)):h&&(h.d(1),h=null),(!m||4&n&&$!==($=Ct(t[2]?"absolute bottom-0 left-0 right-0 top-1/2 img":"")+" svelte-72h7sm"))&&Pt(i,"class",$),(!m||2&n&&i.src!==(u=t[1]))&&Pt(i,"src",u),b&&b.p&&32&n&&Lt(b,g,t,t[5],n,De,Ee),v&&v.p&&32&n&&Lt(v,y,t,t[5],n,xe,we),(!m||1&n&&p!==(p=Ct(t[0])+" svelte-72h7sm"))&&Pt(l,"class",p)},i(t){m||(Ut(c.$$.fragment,t),Ut(b,t),Ut(v,t),m=!0)},o(t){Ht(c.$$.fragment,t),Ht(b,t),Ht(v,t),m=!1},d(t){t&&kt(l),Jt(c),h&&h.d(),b&&b.d(t),v&&v.d(t)}}}function l(t,e,n){let{$$slots:l={},$$scope:s}=e,{classes:o=""}=e,{src:c}=e,{square:a=!1}=e,{justify:r="end"}=e;return t.$$set=t=>{"classes"in t&&n(0,o=t.classes),"src"in t&&n(1,c=t.src),"square"in t&&n(2,a=t.square),"justify"in t&&n(3,r=t.justify),"$$scope"in t&&n(5,s=t.$$scope)},[o,c,a,r,l,s]}function s(t){let e,n,l,s,o,c;const a=t[2].header,r=zt(a,t,t[3],je);return{c(){r&&r.c(),e=Mt(),n=Nt("div"),l=Yt("close"),this.h()},l(t){r&&r.l(t),e=At(t),n=Rt(t,"DIV",{class:!0});var s=_t(n);l=te(s,"close"),s.forEach(kt),this.h()},h(){Pt(n,"class","text-gray-400 cursor-pointer material-icons")},m(a,i){r&&r.m(a,i),qt(a,e,i),qt(a,n,i),Tt(n,l),s=!0,o||(c=ee(n,"click",t[1]),o=!0)},p(t,e){r&&r.p&&8&e&&Lt(r,a,t,t[3],e,Ve,je)},i(t){s||(Ut(r,t),s=!0)},o(t){Ht(r,t),s=!1},d(t){r&&r.d(t),t&&kt(e),t&&kt(n),o=!1,c()}}}function o(t){let e,n,l,o,c,a,r,i,$,u,f;o=new Ot({props:{justify:"between",align:"center",$$slots:{default:[s]},$$scope:{ctx:t}}});const d=t[2].default,p=zt(d,t,t[3],null),m=t[2].footer,h=zt(m,t,t[3],Ie);return{c(){e=Nt("div"),n=Nt("div"),l=Nt("div"),Bt(o.$$.fragment),c=Mt(),a=Nt("div"),p&&p.c(),r=Mt(),i=Nt("div"),h&&h.c(),this.h()},l(t){var s,$,u,f,d;e=Rt(t,"DIV",{class:!0}),s=_t(e),n=Rt(s,"DIV",{class:!0}),$=_t(n),l=Rt($,"DIV",{class:!0}),u=_t(l),St(o.$$.fragment,u),u.forEach(kt),c=At($),a=Rt($,"DIV",{class:!0}),f=_t(a),p&&p.l(f),f.forEach(kt),r=At($),i=Rt($,"DIV",{class:!0}),d=_t(i),h&&h.l(d),d.forEach(kt),$.forEach(kt),s.forEach(kt),this.h()},h(){Pt(l,"class","bg-gray-100 svelte-1p59f4g"),Pt(a,"class","bg-white body svelte-1p59f4g"),Pt(i,"class","bg-gray-200 svelte-1p59f4g"),Pt(n,"class","max-w-2xl mx-auto mt-16 bg-white card svelte-1p59f4g"),Pt(e,"class","fixed top-0 left-0 z-30 w-screen h-screen background svelte-1p59f4g")},m(t,s){qt(t,e,s),Tt(e,n),Tt(n,l),Gt(o,l,null),Tt(n,c),Tt(n,a),p&&p.m(a,null),Tt(n,r),Tt(n,i),h&&h.m(i,null),f=!0},p(e,[n]){t=e;const l={};8&n&&(l.$$scope={dirty:n,ctx:t}),o.$set(l),p&&p.p&&8&n&&Lt(p,d,t,t[3],n,null,null),h&&h.p&&8&n&&Lt(h,m,t,t[3],n,Fe,Ie)},i(l){f||(Ut(o.$$.fragment,l),Ut(p,l),Ut(h,l),Kt(()=>{$||($=Zt(n,Qt,{duration:t[0],y:100},!0)),$.run(1)}),Kt(()=>{u||(u=Zt(e,Wt,{duration:t[0]/3},!0)),u.run(1)}),f=!0)},o(l){Ht(o.$$.fragment,l),Ht(p,l),Ht(h,l),$||($=Zt(n,Qt,{duration:t[0],y:100},!1)),$.run(0),u||(u=Zt(e,Wt,{duration:t[0]/3},!1)),u.run(0),f=!1},d(t){t&&kt(e),Jt(o),p&&p.d(t),h&&h.d(t),t&&$&&$.end(),t&&u&&u.end()}}}function c(t,e,n){let{$$slots:l={},$$scope:s}=e;const o=Xt();let{duration:c=300}=e;return t.$$set=t=>{"duration"in t&&n(0,c=t.duration),"$$scope"in t&&n(3,s=t.$$scope)},[c,function(){o("close",{})},l,s]}function a(t){let e,n,l,s,o;const c=t[5].default,a=zt(c,t,t[4],null);return{c(){e=Nt("div"),a&&a.c(),this.h()},l(t){e=Rt(t,"DIV",{title:!0,class:!0});var n=_t(e);a&&a.l(n),n.forEach(kt),this.h()},h(){Pt(e,"title",t[2]),Pt(e,"class",n=t[0]+" relative duration-75 hover:bg-"+t[1]+" w-5 z-10 h-5 m-0.5 leading-5 text-center bg-white rounded-sm cursor-pointer material-icons text-xss")},m(n,c){qt(n,e,c),a&&a.m(e,null),l=!0,s||(o=ee(e,"click",(function(){ne(t[3])&&t[3].apply(this,arguments)})),s=!0)},p(s,[o]){t=s,a&&a.p&&16&o&&Lt(a,c,t,t[4],o,null,null),(!l||4&o)&&Pt(e,"title",t[2]),(!l||3&o&&n!==(n=t[0]+" relative duration-75 hover:bg-"+t[1]+" w-5 z-10 h-5 m-0.5 leading-5 text-center bg-white rounded-sm cursor-pointer material-icons text-xss"))&&Pt(e,"class",n)},i(t){l||(Ut(a,t),l=!0)},o(t){Ht(a,t),l=!1},d(t){t&&kt(e),a&&a.d(t),s=!1,o()}}}function r(t,e,n){let{$$slots:l={},$$scope:s}=e,{classes:o=""}=e,{background:c="cmsBtnColor"}=e,{title:a=""}=e,{optFunction:r=(()=>{})}=e;return t.$$set=t=>{"classes"in t&&n(0,o=t.classes),"background"in t&&n(1,c=t.background),"title"in t&&n(2,a=t.title),"optFunction"in t&&n(3,r=t.optFunction),"$$scope"in t&&n(4,s=t.$$scope)},[o,c,a,r,s,l]}function i(t){const e=1e6;return t/1e3>=1?(t/1e3).toFixed(2)+" KB":t/e>=1?(t/e).toFixed(2)+" MB":t/1e9>=1?(t/e).toFixed(2)+" GB":""}function $(){let t,e;return{c(){t=Nt("p"),e=Yt("Datei Bearbeiten"),this.h()},l(n){t=Rt(n,"P",{slot:!0,class:!0});var l=_t(t);e=te(l,"Datei Bearbeiten"),l.forEach(kt),this.h()},h(){Pt(t,"slot","header"),Pt(t,"class","floating-card-header svelte-nho77q")},m(n,l){qt(n,t,l),Tt(t,e)},d(e){e&&kt(t)}}}function u(t){let e,n;return e=new FileOption({props:{title:"Löschen",optFunction:t[6],background:"cmsErrorRed",$$slots:{default:[f]},$$scope:{ctx:t}}}),{c(){Bt(e.$$.fragment)},l(t){St(e.$$.fragment,t)},m(t,l){Gt(e,t,l),n=!0},p(t,n){const l={};33554432&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ut(e.$$.fragment,t),n=!0)},o(t){Ht(e.$$.fragment,t),n=!1},d(t){Jt(e,t)}}}function f(){let t;return{c(){t=Yt("delete")},l(e){t=te(e,"delete")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function d(t){let e,n;return e=new FileOption({props:{title:"Datei ersetzen",optFunction:t[9],$$slots:{default:[p]},$$scope:{ctx:t}}}),{c(){Bt(e.$$.fragment)},l(t){St(e.$$.fragment,t)},m(t,l){Gt(e,t,l),n=!0},p(t,n){const l={};33554432&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ut(e.$$.fragment,t),n=!0)},o(t){Ht(e.$$.fragment,t),n=!1},d(t){Jt(e,t)}}}function p(){let t;return{c(){t=Yt("upgrade")},l(e){t=te(e,"upgrade")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function m(t){let e,n,l,s;return e=new FileOption({props:{title:"Herunterladen",optFunction:t[7],$$slots:{default:[h]},$$scope:{ctx:t}}}),l=new FileOption({props:{title:"Datei in neuem Tab öffnen",optFunction:t[8],$$slots:{default:[g]},$$scope:{ctx:t}}}),{c(){Bt(e.$$.fragment),n=Mt(),Bt(l.$$.fragment)},l(t){St(e.$$.fragment,t),n=At(t),St(l.$$.fragment,t)},m(t,o){Gt(e,t,o),qt(t,n,o),Gt(l,t,o),s=!0},p(t,n){const s={};33554432&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const o={};33554432&n&&(o.$$scope={dirty:n,ctx:t}),l.$set(o)},i(t){s||(Ut(e.$$.fragment,t),Ut(l.$$.fragment,t),s=!0)},o(t){Ht(e.$$.fragment,t),Ht(l.$$.fragment,t),s=!1},d(t){Jt(e,t),t&&kt(n),Jt(l,t)}}}function h(){let t;return{c(){t=Yt("file_download")},l(e){t=te(e,"file_download")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function g(){let t;return{c(){t=Yt("open_in_new")},l(e){t=te(e,"open_in_new")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function b(t){let e,n,l,s,o=!0===t[1].getPermissions(t[0].id).delete,c=o&&u(t),a="new"!==t[0].id&&d(t),r=!t[0].local&&m(t);return{c(){c&&c.c(),e=Mt(),a&&a.c(),n=Mt(),r&&r.c(),l=ae()},l(t){c&&c.l(t),e=At(t),a&&a.l(t),n=At(t),r&&r.l(t),l=ae()},m(t,o){c&&c.m(t,o),qt(t,e,o),a&&a.m(t,o),qt(t,n,o),r&&r.m(t,o),qt(t,l,o),s=!0},p(t,s){3&s&&(o=!0===t[1].getPermissions(t[0].id).delete),o?c?(c.p(t,s),3&s&&Ut(c,1)):(c=u(t),c.c(),Ut(c,1),c.m(e.parentNode,e)):c&&(re(),Ht(c,1,1,()=>{c=null}),ie()),"new"!==t[0].id?a?(a.p(t,s),1&s&&Ut(a,1)):(a=d(t),a.c(),Ut(a,1),a.m(n.parentNode,n)):a&&(re(),Ht(a,1,1,()=>{a=null}),ie()),t[0].local?r&&(re(),Ht(r,1,1,()=>{r=null}),ie()):r?(r.p(t,s),1&s&&Ut(r,1)):(r=m(t),r.c(),Ut(r,1),r.m(l.parentNode,l))},i(t){s||(Ut(c),Ut(a),Ut(r),s=!0)},o(t){Ht(c),Ht(a),Ht(r),s=!1},d(t){c&&c.d(t),t&&kt(e),a&&a.d(t),t&&kt(n),r&&r.d(t),t&&kt(l)}}}function y(t){let e,n,l,s,o,c,a,r,$,u,f,d,p,m=i(t[0].size)+"",h=new Date(t[0].created_at).toLocaleDateString()+"";return{c(){e=Nt("div"),n=Nt("h5"),l=Yt("Größe"),s=Mt(),o=Nt("p"),c=Yt(m),a=Mt(),r=Nt("div"),$=Nt("h5"),u=Yt("Erstellt am:"),f=Mt(),d=Nt("p"),p=Yt(h),this.h()},l(t){var i,g,b,y,v,x;e=Rt(t,"DIV",{class:!0}),i=_t(e),n=Rt(i,"H5",{class:!0}),g=_t(n),l=te(g,"Größe"),g.forEach(kt),s=At(i),o=Rt(i,"P",{class:!0}),b=_t(o),c=te(b,m),b.forEach(kt),i.forEach(kt),a=At(t),r=Rt(t,"DIV",{class:!0}),y=_t(r),$=Rt(y,"H5",{class:!0}),v=_t($),u=te(v,"Erstellt am:"),v.forEach(kt),f=At(y),d=Rt(y,"P",{class:!0}),x=_t(d),p=te(x,h),x.forEach(kt),y.forEach(kt),this.h()},h(){Pt(n,"class","svelte-nho77q"),Pt(o,"class","svelte-nho77q"),Pt(e,"class","info svelte-nho77q"),Pt($,"class","svelte-nho77q"),Pt(d,"class","svelte-nho77q"),Pt(r,"class","info svelte-nho77q")},m(t,i){qt(t,e,i),Tt(e,n),Tt(n,l),Tt(e,s),Tt(e,o),Tt(o,c),qt(t,a,i),qt(t,r,i),Tt(r,$),Tt($,u),Tt(r,f),Tt(r,d),Tt(d,p)},p(t,e){1&e&&m!==(m=i(t[0].size)+"")&&$e(c,m),1&e&&h!==(h=new Date(t[0].created_at).toLocaleDateString()+"")&&$e(p,h)},d(t){t&&kt(e),t&&kt(a),t&&kt(r)}}}function v(t){let e,n,l,s,o,c,a=t[0].type.split("/")[t[0].type.split("/").length-1]+"";return{c(){e=Nt("div"),n=Nt("h5"),l=Yt("Datei-typ"),s=Mt(),o=Nt("p"),c=Yt(a),this.h()},l(t){var r,i,$;e=Rt(t,"DIV",{class:!0}),r=_t(e),n=Rt(r,"H5",{class:!0}),i=_t(n),l=te(i,"Datei-typ"),i.forEach(kt),s=At(r),o=Rt(r,"P",{class:!0}),$=_t(o),c=te($,a),$.forEach(kt),r.forEach(kt),this.h()},h(){Pt(n,"class","svelte-nho77q"),Pt(o,"class","svelte-nho77q"),Pt(e,"class","info svelte-nho77q")},m(t,a){qt(t,e,a),Tt(e,n),Tt(n,l),Tt(e,s),Tt(e,o),Tt(o,c)},p(t,e){1&e&&a!==(a=t[0].type.split("/")[t[0].type.split("/").length-1]+"")&&$e(c,a)},d(t){t&&kt(e)}}}function x(){let t;return{c(){t=Yt("Dateiname")},l(e){t=te(e,"Dateiname")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function w(){let t;return{c(){t=Yt("Beschreibung")},l(e){t=te(e,"Beschreibung")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function D(){let t;return{c(){t=Yt("Public")},l(e){t=te(e,"Public")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function E(t){function e(e){t[15].call(null,e)}function n(e){t[16].call(null,e)}function l(e){t[17].call(null,e)}let s,o,c,a,r,i,$,u,f,d,p,m,h,g,E,F,I,V;s=new DisplayMedia({props:{classes:"w-1/2",src:t[0].local?t[0].url:"http://localhost:8000/"+t[0].url,square:!0,$$slots:{default:[b]},$$scope:{ctx:t}}}),r=new Ot({props:{justify:"between",classes:"mb-3",$$slots:{default:[y]},$$scope:{ctx:t}}}),$=new Ot({props:{justify:"between",$$slots:{default:[v]},$$scope:{ctx:t}}});let j={readonly:t[1].getReadOnly(t[0].id,"name"),classes:"mb-3",error:t[12]("name",t[2]),labelClasses:"font-bold",type:"text",id:"file_name",$$slots:{default:[x]},$$scope:{ctx:t}};void 0!==t[5]&&(j.value=t[5]),d=new me({props:j}),le.push(()=>se(d,"value",e));let O={readonly:t[1].getReadOnly(t[0].id,"description"),error:t[12]("description",t[2]),labelClasses:"font-bold",classes:"mb-3",type:"text",id:"desc",$$slots:{default:[w]},$$scope:{ctx:t}};void 0!==t[0].description&&(O.value=t[0].description),h=new me({props:O}),le.push(()=>se(h,"value",n));let N={readonly:t[1].getReadOnly(t[0].id,"public"),error:t[12]("public",t[2]),labelClasses:"font-bold",inputClasses:"w-8 h-4",type:"radio",id:"file_public",$$slots:{default:[D]},$$scope:{ctx:t}};return void 0!==t[0].public&&(N.value=t[0].public),F=new me({props:N}),le.push(()=>se(F,"value",l)),{c(){Bt(s.$$.fragment),o=Mt(),c=Nt("div"),a=Nt("div"),Bt(r.$$.fragment),i=Mt(),Bt($.$$.fragment),u=Mt(),f=Nt("div"),Bt(d.$$.fragment),m=Mt(),Bt(h.$$.fragment),E=Mt(),Bt(F.$$.fragment),this.h()},l(t){var e,n,l;St(s.$$.fragment,t),o=At(t),c=Rt(t,"DIV",{class:!0}),e=_t(c),a=Rt(e,"DIV",{class:!0}),n=_t(a),St(r.$$.fragment,n),i=At(n),St($.$$.fragment,n),n.forEach(kt),u=At(e),f=Rt(e,"DIV",{}),l=_t(f),St(d.$$.fragment,l),m=At(l),St(h.$$.fragment,l),E=At(l),St(F.$$.fragment,l),l.forEach(kt),e.forEach(kt),this.h()},h(){Pt(a,"class","w-full p-3 mb-4 bg-gray-100"),Pt(c,"class","w-1/2 ml-4")},m(t,e){Gt(s,t,e),qt(t,o,e),qt(t,c,e),Tt(c,a),Gt(r,a,null),Tt(a,i),Gt($,a,null),Tt(c,u),Tt(c,f),Gt(d,f,null),Tt(f,m),Gt(h,f,null),Tt(f,E),Gt(F,f,null),V=!0},p(t,e){const n={};1&e&&(n.src=t[0].local?t[0].url:"http://localhost:8000/"+t[0].url),33554435&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n);const l={};33554433&e&&(l.$$scope={dirty:e,ctx:t}),r.$set(l);const o={};33554433&e&&(o.$$scope={dirty:e,ctx:t}),$.$set(o);const c={};3&e&&(c.readonly=t[1].getReadOnly(t[0].id,"name")),4&e&&(c.error=t[12]("name",t[2])),33554432&e&&(c.$$scope={dirty:e,ctx:t}),!p&&32&e&&(p=!0,c.value=t[5],oe(()=>p=!1)),d.$set(c);const a={};3&e&&(a.readonly=t[1].getReadOnly(t[0].id,"description")),4&e&&(a.error=t[12]("description",t[2])),33554432&e&&(a.$$scope={dirty:e,ctx:t}),!g&&1&e&&(g=!0,a.value=t[0].description,oe(()=>g=!1)),h.$set(a);const i={};3&e&&(i.readonly=t[1].getReadOnly(t[0].id,"public")),4&e&&(i.error=t[12]("public",t[2])),33554432&e&&(i.$$scope={dirty:e,ctx:t}),!I&&1&e&&(I=!0,i.value=t[0].public,oe(()=>I=!1)),F.$set(i)},i(t){V||(Ut(s.$$.fragment,t),Ut(r.$$.fragment,t),Ut($.$$.fragment,t),Ut(d.$$.fragment,t),Ut(h.$$.fragment,t),Ut(F.$$.fragment,t),V=!0)},o(t){Ht(s.$$.fragment,t),Ht(r.$$.fragment,t),Ht($.$$.fragment,t),Ht(d.$$.fragment,t),Ht(h.$$.fragment,t),Ht(F.$$.fragment,t),V=!1},d(t){Jt(s,t),t&&kt(o),t&&kt(c),Jt(r),Jt($),Jt(d),Jt(h),Jt(F)}}}function F(){let t;return{c(){t=Yt("Abbrechen")},l(e){t=te(e,"Abbrechen")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function I(){let t;return{c(){t=Yt("Speichern")},l(e){t=te(e,"Speichern")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function V(t){let e,n,l,s;return e=new ge({props:{color:"bg-gray-400",buttonFunction:t[10],$$slots:{default:[F]},$$scope:{ctx:t}}}),l=new ge({props:{color:"bg-cmsSuccessGreen",buttonFunction:t[13],disabled:!t[3],$$slots:{default:[I]},$$scope:{ctx:t}}}),{c(){Bt(e.$$.fragment),n=Mt(),Bt(l.$$.fragment)},l(t){St(e.$$.fragment,t),n=At(t),St(l.$$.fragment,t)},m(t,o){Gt(e,t,o),qt(t,n,o),Gt(l,t,o),s=!0},p(t,n){const s={};33554432&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const o={};8&n&&(o.disabled=!t[3]),33554432&n&&(o.$$scope={dirty:n,ctx:t}),l.$set(o)},i(t){s||(Ut(e.$$.fragment,t),Ut(l.$$.fragment,t),s=!0)},o(t){Ht(e.$$.fragment,t),Ht(l.$$.fragment,t),s=!1},d(t){Jt(e,t),t&&kt(n),Jt(l,t)}}}function j(t){let e,n,l;return n=new Ot({props:{classes:"w-full",justify:"between",$$slots:{default:[V]},$$scope:{ctx:t}}}),{c(){e=Nt("div"),Bt(n.$$.fragment),this.h()},l(t){e=Rt(t,"DIV",{slot:!0});var l=_t(e);St(n.$$.fragment,l),l.forEach(kt),this.h()},h(){Pt(e,"slot","footer")},m(t,s){qt(t,e,s),Gt(n,e,null),l=!0},p(t,e){const l={};33554440&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(Ut(n.$$.fragment,t),l=!0)},o(t){Ht(n.$$.fragment,t),l=!1},d(t){t&&kt(e),Jt(n)}}}function O(t){let e,n,l,s;return n=new Ot({props:{$$slots:{default:[E]},$$scope:{ctx:t}}}),{c(){e=Mt(),Bt(n.$$.fragment),l=Mt()},l(t){e=At(t),St(n.$$.fragment,t),l=At(t)},m(t,o){qt(t,e,o),Gt(n,t,o),qt(t,l,o),s=!0},p(t,e){const l={};33554471&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){s||(Ut(n.$$.fragment,t),s=!0)},o(t){Ht(n.$$.fragment,t),s=!1},d(t){t&&kt(e),Jt(n,t),t&&kt(l)}}}function N(t){let e,n,l,s,o,c,a;return s=new FloatingCard({props:{$$slots:{default:[O],footer:[j],header:[$]},$$scope:{ctx:t}}}),s.$on("close",t[10]),{c(){e=Nt("input"),l=Mt(),Bt(s.$$.fragment),this.h()},l(t){e=Rt(t,"INPUT",{name:!0,type:!0,accept:!0,id:!0,class:!0,multiple:!0}),l=At(t),St(s.$$.fragment,t),this.h()},h(){Pt(e,"name","file"),Pt(e,"type","file"),Pt(e,"accept",n=t[0].type),Pt(e,"id","fileupload"),Pt(e,"class","hidden"),e.multiple=!0},m(n,r){qt(n,e,r),t[14](e),qt(n,l,r),Gt(s,n,r),o=!0,c||(a=ee(e,"change",t[11]),c=!0)},p(t,[l]){(!o||1&l&&n!==(n=t[0].type))&&Pt(e,"accept",n);const c={};33554479&l&&(c.$$scope={dirty:l,ctx:t}),s.$set(c)},i(t){o||(Ut(s.$$.fragment,t),o=!0)},o(t){Ht(s.$$.fragment,t),o=!1},d(n){n&&kt(e),t[14](null),n&&kt(l),Jt(s,n),c=!1,a()}}}function R(t,e,n){function l(){s("close",{})}const s=Xt();let o,{file:c}=e,{table:a}=e,r={},i=!1;const $=JSON.parse(JSON.stringify(c));let u=c.name.split(".")[0];const f=c.name.split(".")[1];return t.$$set=t=>{"file"in t&&n(0,c=t.file),"table"in t&&n(1,a=t.table)},t.$$.update=()=>{32&t.$$.dirty&&(n(0,c.name=`${u}.${f}`,c),n(0,c)),1&t.$$.dirty&&(ye(c,$)?n(3,i=!1):n(3,i=!0))},[c,a,r,i,o,u,function(){s("delete",c),l()},function(){window.open("http://localhost:8000/download/"+c.name)},function(){window.open("http://localhost:8000/"+c.url)},function(){o.click()},function(){console.log("oldData",$),n(0,c=$),console.log("file",c),l()},function(){const t=o.files[o.files.length-1];n(0,c.size=t.size,c),n(0,c.type=t.type,c),n(0,c.local=!0,c),n(0,c.url=URL.createObjectURL(t),c)},function(t){return void 0!==r[t]&&r[t][0]},function(){"new"!==c.id?async function(){const t=ve(c,$),e=new FormData;Object.keys(t).forEach(n=>{e.set(n,t[n])}),console.log("input",o,"data",e),""!==o.value&&(console.log("heloo"),e.set(o.name,o.files[0]));const i=await ce(`http://localhost:8000/api/files?id=${c.id}&_method=PUT`,"post",e,!0);200===i.status?(n(0,c=i.data[a.table][0]),s("saved",c),l()):400===i.status&&n(2,r=i.data)}():l()},function(t){le[t?"unshift":"push"](()=>{o=t,n(4,o)})},function(t){u=t,n(5,u)},function(t){c.description=t,n(0,c)},function(t){c.public=t,n(0,c)}]}function _(t,e,n){const l=t.slice();return l[25]=e[n],l}function k(t){let e,n;return e=new FloatingCard({props:{$$slots:{default:[nt],footer:[et],header:[z]},$$scope:{ctx:t}}}),e.$on("close",t[8]),{c(){Bt(e.$$.fragment)},l(t){St(e.$$.fragment,t)},m(t,l){Gt(e,t,l),n=!0},p(t,n){const l={};268435500&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ut(e.$$.fragment,t),n=!0)},o(t){Ht(e.$$.fragment,t),n=!1},d(t){Jt(e,t)}}}function P(t){function e(e){t[17].call(null,e)}let n,l,s,o={table:t[0]};return void 0!==t[4]&&(o.file=t[4]),n=new EditMedia({props:o}),le.push(()=>se(n,"file",e)),n.$on("delete",t[18]),n.$on("close",t[13]),{c(){Bt(n.$$.fragment)},l(t){St(n.$$.fragment,t)},m(t,e){Gt(n,t,e),s=!0},p(t,e){const s={};1&e&&(s.table=t[0]),!l&&16&e&&(l=!0,s.file=t[4],oe(()=>l=!1)),n.$set(s)},i(t){s||(Ut(n.$$.fragment,t),s=!0)},o(t){Ht(n.$$.fragment,t),s=!1},d(t){Jt(n,t)}}}function q(t){let e,n;return e=new FloatingCard({props:{$$slots:{default:[rt],footer:[at],header:[lt]},$$scope:{ctx:t}}}),e.$on("close",t[7]),{c(){Bt(e.$$.fragment)},l(t){St(e.$$.fragment,t)},m(t,l){Gt(e,t,l),n=!0},p(t,n){const l={};268435456&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ut(e.$$.fragment,t),n=!0)},o(t){Ht(e.$$.fragment,t),n=!1},d(t){Jt(e,t)}}}function z(){let t,e;return{c(){t=Nt("p"),e=Yt("Dateien hochladen"),this.h()},l(n){t=Rt(n,"P",{slot:!0,class:!0});var l=_t(t);e=te(l,"Dateien hochladen"),l.forEach(kt),this.h()},h(){Pt(t,"slot","header"),Pt(t,"class","floating-card-header svelte-1mcuetl")},m(n,l){qt(n,t,l),Tt(t,e)},d(e){e&&kt(t)}}}function B(){let t;return{c(){t=Yt("Zusätzliche Datei hochladen")},l(e){t=te(e,"Zusätzliche Datei hochladen")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function M(){let t;return{c(){t=Yt("delete")},l(e){t=te(e,"delete")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function S(){let t;return{c(){t=Yt("edit")},l(e){t=te(e,"edit")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function A(){let t,e;return{c(){t=Nt("div"),e=Yt("cancel"),this.h()},l(n){t=Rt(n,"DIV",{class:!0});var l=_t(t);e=te(l,"cancel"),l.forEach(kt),this.h()},h(){Pt(t,"class","overlay-icon material-icons text-cmsErrorRed svelte-1mcuetl")},m(n,l){qt(n,t,l),Tt(t,e)},i:de,o:de,d(e){e&&kt(t)}}}function C(){let t,e;return{c(){t=Nt("div"),e=Yt("done"),this.h()},l(n){t=Rt(n,"DIV",{class:!0});var l=_t(t);e=te(l,"done"),l.forEach(kt),this.h()},h(){Pt(t,"class","overlay-icon material-icons text-cmsSuccessGreen svelte-1mcuetl")},m(n,l){qt(n,t,l),Tt(t,e)},i:de,o:de,d(e){e&&kt(t)}}}function T(){let t,e;return t=new pe({props:{color:"white"}}),{c(){Bt(t.$$.fragment)},l(e){St(t.$$.fragment,e)},m(n,l){Gt(t,n,l),e=!0},i(n){e||(Ut(t.$$.fragment,n),e=!0)},o(n){Ht(t.$$.fragment,n),e=!1},d(e){Jt(t,e)}}}function G(t){function e(t){return t[25].uploading?0:t[25].uploaded?1:!1!==t[25].error?2:-1}let n,l,s,o;const c=[T,C,A],a=[];return~(l=e(t))&&(s=a[l]=c[l](t)),{c(){n=Nt("div"),s&&s.c(),this.h()},l(t){n=Rt(t,"DIV",{slot:!0,class:!0,style:!0});var e=_t(n);s&&s.l(e),e.forEach(kt),this.h()},h(){Pt(n,"slot","overlay"),Pt(n,"class","absolute top-1/2 left-1/2"),fe(n,"transform","translate(-50%,-50%)")},m(t,e){qt(t,n,e),~l&&a[l].m(n,null),o=!0},p(t,o){let r=l;l=e(t),l!==r&&(s&&(re(),Ht(a[r],1,1,()=>{a[r]=null}),ie()),~l?(s=a[l],s||(s=a[l]=c[l](t),s.c()),Ut(s,1),s.m(n,null)):s=null)},i(t){o||(Ut(s),o=!0)},o(t){Ht(s),o=!1},d(t){t&&kt(n),~l&&a[l].d()}}}function L(t){let e,n,l=t[25].error+"";return{c(){e=Nt("p"),n=Yt(l),this.h()},l(t){e=Rt(t,"P",{class:!0});var s=_t(e);n=te(s,l),s.forEach(kt),this.h()},h(){Pt(e,"class","img-status-text text-cmsErrorRed svelte-1mcuetl")},m(t,l){qt(t,e,l),Tt(e,n)},p(t,e){4&e&&l!==(l=t[25].error+"")&&$e(n,l)},d(t){t&&kt(e)}}}function U(){let t,e;return{c(){t=Nt("p"),e=Yt("Datei hochgeladen"),this.h()},l(n){t=Rt(n,"P",{class:!0});var l=_t(t);e=te(l,"Datei hochgeladen"),l.forEach(kt),this.h()},h(){Pt(t,"class","img-status-text text-cmsSuccessGreen svelte-1mcuetl")},m(n,l){qt(n,t,l),Tt(t,e)},p:de,d(e){e&&kt(t)}}}function H(t){function e(t){return t[25].uploaded?U:!1!==t[25].error?L:void 0}let n,l=e(t),s=l&&l(t);return{c(){n=Nt("div"),s&&s.c(),this.h()},l(t){n=Rt(t,"DIV",{slot:!0});var e=_t(n);s&&s.l(e),e.forEach(kt),this.h()},h(){Pt(n,"slot","status")},m(t,e){qt(t,n,e),s&&s.m(n,null)},p(t,o){l===(l=e(t))&&s?s.p(t,o):(s&&s.d(1),s=l&&l(t),s&&(s.c(),s.m(n,null)))},d(t){t&&kt(n),s&&s.d()}}}function J(t){function e(...e){return t[20](t[25],...e)}function n(...e){return t[21](t[25],...e)}let l,s,o,c,a,r,i;return l=new FileOption({props:{title:"Löschen",background:"cmsErrorRed",optFunction:e,$$slots:{default:[M]},$$scope:{ctx:t}}}),o=new FileOption({props:{title:"Bearbeiten",optFunction:n,$$slots:{default:[S]},$$scope:{ctx:t}}}),{c(){Bt(l.$$.fragment),s=Mt(),Bt(o.$$.fragment),c=Mt(),a=Mt(),r=Mt()},l(t){St(l.$$.fragment,t),s=At(t),St(o.$$.fragment,t),c=At(t),a=At(t),r=At(t)},m(t,e){Gt(l,t,e),qt(t,s,e),Gt(o,t,e),qt(t,c,e),qt(t,a,e),qt(t,r,e),i=!0},p(s,c){t=s;const a={};4&c&&(a.optFunction=e),268435456&c&&(a.$$scope={dirty:c,ctx:t}),l.$set(a);const r={};4&c&&(r.optFunction=n),268435456&c&&(r.$$scope={dirty:c,ctx:t}),o.$set(r)},i(t){i||(Ut(l.$$.fragment,t),Ut(o.$$.fragment,t),i=!0)},o(t){Ht(l.$$.fragment,t),Ht(o.$$.fragment,t),i=!1},d(t){Jt(l,t),t&&kt(s),Jt(o,t),t&&kt(c),t&&kt(a),t&&kt(r)}}}function K(t){let e,n;return e=new DisplayMedia({props:{src:t[25].url,classes:"w-1/4 mt-2 mr-2",$$slots:{default:[J],status:[H],overlay:[G]},$$scope:{ctx:t}}}),{c(){Bt(e.$$.fragment)},l(t){St(e.$$.fragment,t)},m(t,l){Gt(e,t,l),n=!0},p(t,n){const l={};4&n&&(l.src=t[25].url),268435460&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ut(e.$$.fragment,t),n=!0)},o(t){Ht(e.$$.fragment,t),n=!1},d(t){Jt(e,t)}}}function Z(t){let e,n,l=t[2],s=[];for(let e=0;e<l.length;e+=1)s[e]=K(_(t,l,e));const o=t=>Ht(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=ae()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=ae()},m(t,l){for(let e=0;e<s.length;e+=1)s[e].m(t,l);qt(t,e,l),n=!0},p(t,n){if(6148&n){let c;for(l=t[2],c=0;c<l.length;c+=1){const o=_(t,l,c);s[c]?(s[c].p(o,n),Ut(s[c],1)):(s[c]=K(o),s[c].c(),Ut(s[c],1),s[c].m(e.parentNode,e))}for(re(),c=l.length;c<s.length;c+=1)o(c);ie()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)Ut(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Ht(s[t]);n=!1},d(t){ue(s,t),t&&kt(e)}}}function Q(){let t;return{c(){t=Yt("Abbrechen")},l(e){t=te(e,"Abbrechen")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function W(t){let e,n,l,s,o=t[2].length+"",c=1===t[2].length?"Datei":"Dateien";return{c(){e=Yt(o),n=Mt(),l=Yt(c),s=Yt(" hochladen")},l(t){e=te(t,o),n=At(t),l=te(t,c),s=te(t," hochladen")},m(t,o){qt(t,e,o),qt(t,n,o),qt(t,l,o),qt(t,s,o)},p(t,n){4&n&&o!==(o=t[2].length+"")&&$e(e,o),4&n&&c!==(c=1===t[2].length?"Datei":"Dateien")&&$e(l,c)},d(t){t&&kt(e),t&&kt(n),t&&kt(l),t&&kt(s)}}}function X(){let t;return{c(){t=Yt("Nochmal Versuchen")},l(e){t=te(e,"Nochmal Versuchen")},m(e,n){qt(e,t,n)},p:de,d(e){e&&kt(t)}}}function Y(t){function e(t){return t[5]?X:W}let n,l=e(t),s=l(t);return{c(){s.c(),n=ae()},l(t){s.l(t),n=ae()},m(t,e){s.m(t,e),qt(t,n,e)},p(t,o){l===(l=e(t))&&s?s.p(t,o):(s.d(1),s=l(t),s&&(s.c(),s.m(n.parentNode,n)))},d(t){s.d(t),t&&kt(n)}}}function tt(t){let e,n,l,s;return e=new ge({props:{color:"bg-gray-400",buttonFunction:t[6],$$slots:{default:[Q]},$$scope:{ctx:t}}}),l=new ge({props:{color:"bg-cmsSuccessGreen",buttonFunction:t[15],disabled:0===t[2].length,$$slots:{default:[Y]},$$scope:{ctx:t}}}),{c(){Bt(e.$$.fragment),n=Mt(),Bt(l.$$.fragment)},l(t){St(e.$$.fragment,t),n=At(t),St(l.$$.fragment,t)},m(t,o){Gt(e,t,o),qt(t,n,o),Gt(l,t,o),s=!0},p(t,n){const s={};268435456&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const o={};4&n&&(o.disabled=0===t[2].length),268435492&n&&(o.$$scope={dirty:n,ctx:t}),l.$set(o)},i(t){s||(Ut(e.$$.fragment,t),Ut(l.$$.fragment,t),s=!0)},o(t){Ht(e.$$.fragment,t),Ht(l.$$.fragment,t),s=!1},d(t){Jt(e,t),t&&kt(n),Jt(l,t)}}}function et(t){let e,n,l;return n=new Ot({props:{classes:"w-full",justify:"between",$$slots:{default:[tt]},$$scope:{ctx:t}}}),{c(){e=Nt("div"),Bt(n.$$.fragment),this.h()},l(t){e=Rt(t,"DIV",{slot:!0});var l=_t(e);St(n.$$.fragment,l),l.forEach(kt),this.h()},h(){Pt(e,"slot","footer")},m(t,s){qt(t,e,s),Gt(n,e,null),l=!0},p(t,e){const l={};268435492&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(Ut(n.$$.fragment,t),l=!0)},o(t){Ht(n.$$.fragment,t),l=!1},d(t){t&&kt(e),Jt(n)}}}function nt(t){let e,n,l,s,o,c;return n=new ge({props:{buttonFunction:t[19],classes:"float-right mb-2",$$slots:{default:[B]},$$scope:{ctx:t}}}),s=new Ot({props:{classes:"w-full my-4",wrap:!0,$$slots:{default:[Z]},$$scope:{ctx:t}}}),{c(){e=Mt(),Bt(n.$$.fragment),l=Mt(),Bt(s.$$.fragment),o=Mt()},l(t){e=At(t),St(n.$$.fragment,t),l=At(t),St(s.$$.fragment,t),o=At(t)},m(t,a){qt(t,e,a),Gt(n,t,a),qt(t,l,a),Gt(s,t,a),qt(t,o,a),c=!0},p(t,e){const l={};8&e&&(l.buttonFunction=t[19]),268435456&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l);const o={};268435460&e&&(o.$$scope={dirty:e,ctx:t}),s.$set(o)},i(t){c||(Ut(n.$$.fragment,t),Ut(s.$$.fragment,t),c=!0)},o(t){Ht(n.$$.fragment,t),Ht(s.$$.fragment,t),c=!1},d(t){t&&kt(e),Jt(n,t),t&&kt(l),Jt(s,t),t&&kt(o)}}}function lt(){let t,e;return{c(){t=Nt("p"),e=Yt("Datei hinzufügen"),this.h()},l(n){t=Rt(n,"P",{slot:!0,class:!0});var l=_t(t);e=te(l,"Datei hinzufügen"),l.forEach(kt),this.h()},h(){Pt(t,"slot","header"),Pt(t,"class","floating-card-header svelte-1mcuetl")},m(n,l){qt(n,t,l),Tt(t,e)},d(e){e&&kt(t)}}}function st(){let t;return{c(){t=Yt("Datei hochladen")},l(e){t=te(e,"Datei hochladen")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function ot(t){let e,n,l,s,o;return s=new ge({props:{buttonFunction:t[9],$$slots:{default:[st]},$$scope:{ctx:t}}}),{c(){e=Nt("div"),n=Yt("cloud_upload"),l=Mt(),Bt(s.$$.fragment),this.h()},l(t){e=Rt(t,"DIV",{class:!0});var o=_t(e);n=te(o,"cloud_upload"),o.forEach(kt),l=At(t),St(s.$$.fragment,t),this.h()},h(){Pt(e,"class","mb-2 text-2xl text-gray-300 material-icons")},m(t,c){qt(t,e,c),Tt(e,n),qt(t,l,c),Gt(s,t,c),o=!0},p(t,e){const n={};268435456&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i(t){o||(Ut(s.$$.fragment,t),o=!0)},o(t){Ht(s.$$.fragment,t),o=!1},d(t){t&&kt(e),t&&kt(l),Jt(s,t)}}}function ct(){let t;return{c(){t=Yt("Abbrechen")},l(e){t=te(e,"Abbrechen")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function at(t){let e,n,l;return n=new ge({props:{color:"bg-gray-400",buttonFunction:t[7],$$slots:{default:[ct]},$$scope:{ctx:t}}}),{c(){e=Nt("div"),Bt(n.$$.fragment),this.h()},l(t){e=Rt(t,"DIV",{slot:!0});var l=_t(e);St(n.$$.fragment,l),l.forEach(kt),this.h()},h(){Pt(e,"slot","footer")},m(t,s){qt(t,e,s),Gt(n,e,null),l=!0},p(t,e){const l={};268435456&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(Ut(n.$$.fragment,t),l=!0)},o(t){Ht(n.$$.fragment,t),l=!1},d(t){t&&kt(e),Jt(n)}}}function rt(t){let e,n,l,s,o;return l=new Ot({props:{classes:"w-full",align:"center",justify:"center",cols:"true",$$slots:{default:[ot]},$$scope:{ctx:t}}}),{c(){e=Mt(),n=Nt("div"),Bt(l.$$.fragment),s=Mt(),this.h()},l(t){e=At(t),n=Rt(t,"DIV",{class:!0});var o=_t(n);St(l.$$.fragment,o),o.forEach(kt),s=At(t),this.h()},h(){Pt(n,"class","py-5 my-4 border-2 border-gray-100 border-dashed rounded-md bg-gray-50")},m(t,c){qt(t,e,c),qt(t,n,c),Gt(l,n,null),qt(t,s,c),o=!0},p(t,e){const n={};268435456&e&&(n.$$scope={dirty:e,ctx:t}),l.$set(n)},i(t){o||(Ut(l.$$.fragment,t),o=!0)},o(t){Ht(l.$$.fragment,t),o=!1},d(t){t&&kt(e),t&&kt(n),Jt(l),t&&kt(s)}}}function it(t){function e(t){return!0===t[3]?0:void 0!==t[4]?1:2}let n,l,s,o,c,a,r,i,$;const u=[q,P,k],f=[];return o=e(t),c=f[o]=u[o](t),{c(){n=Nt("input"),s=Mt(),c.c(),a=ae(),this.h()},l(t){n=Rt(t,"INPUT",{name:!0,type:!0,accept:!0,id:!0,class:!0,multiple:!0}),s=At(t),c.l(t),a=ae(),this.h()},h(){Pt(n,"name","file"),Pt(n,"type","file"),Pt(n,"accept",l=t[14]()),Pt(n,"id","fileupload"),Pt(n,"class","hidden"),n.multiple=!0},m(e,l){qt(e,n,l),t[16](n),qt(e,s,l),f[o].m(e,l),qt(e,a,l),r=!0,i||($=ee(n,"change",t[10]),i=!0)},p(t,[n]){let l=o;o=e(t),o===l?f[o].p(t,n):(re(),Ht(f[l],1,1,()=>{f[l]=null}),ie(),c=f[o],c||(c=f[o]=u[o](t),c.c()),Ut(c,1),c.m(a.parentNode,a))},i(t){r||(Ut(c),r=!0)},o(t){Ht(c),r=!1},d(e){e&&kt(n),t[16](null),e&&kt(s),f[o].d(e),e&&kt(a),i=!1,$()}}}function $t(t,e,n){function l(){c("close",{})}function s(t){const e=$.indexOf(t);$.splice(e,1),n(2,$)}function o(t){n(4,r=t)}const c=Xt();let a,r,{table:i}=e,$=[],u=!0,f=!1;return t.$$set=t=>{"table"in t&&n(0,i=t.table)},t.$$.update=()=>{4&t.$$.dirty&&$.filter(t=>!0===t.uploaded).length===$.length&&(c("uploaded",{}),l())},[i,a,$,u,r,f,l,function(){0===$.length?l():n(3,u=!1)},async function(){l()},function(){a.click()},async function(){const t=a.files[a.files.length-1],e={created_at:new Date,description:"",error:!1,file:t,id:"new",local:!0,name:t.name,public:!0,size:t.size,type:t.type,uploaded:!1,uploading:!1,url:URL.createObjectURL(a.files[a.files.length-1])};$.push(e),n(3,u=!1)},s,o,function(){n(4,r=void 0)},function(){return i.columns.find(t=>"type"===t.name).enum.join(",")},async function(){n(5,f=!1),$.forEach(t=>{!async function(t){const e=new FormData;e.set("description",t.description),e.set("name",t.name),e.set("type",t.type),e.set("public",t.public),e.set("file",t.file),t.uploading=!0,n(2,$);const l=await ce("http://localhost:8000/api/files","post",e,!0);if(400===l.status)t.error=l.data[Object.keys(l.data)[0]][0],n(5,f=!0);else if(200===l.status){t.uploaded=!0;const e=$.indexOf(t);$.splice(e,1),t.error=!1}t.uploading=!1,n(2,$)}(t)})},function(t){le[t?"unshift":"push"](()=>{a=t,n(1,a)})},function(t){r=t,n(4,r)},()=>{s(r)},()=>{n(3,u=!0)},t=>{s(t)},t=>{o(t)}]}function ut(t,e,n){const l=t.slice();return l[24]=e[n],l[25]=e,l[26]=n,l}function ft(){let t,e,n,l,s;return{c(){t=Nt("span"),e=Yt("add"),n=Mt(),l=Nt("p"),s=Yt("Datei hochladen"),this.h()},l(o){var c,a;t=Rt(o,"SPAN",{class:!0}),c=_t(t),e=te(c,"add"),c.forEach(kt),n=At(o),l=Rt(o,"P",{class:!0}),a=_t(l),s=te(a,"Datei hochladen"),a.forEach(kt),this.h()},h(){Pt(t,"class","mr-2 text-white material-icons"),Pt(l,"class","text-xss")},m(o,c){qt(o,t,c),Tt(t,e),qt(o,n,c),qt(o,l,c),Tt(l,s)},d(e){e&&kt(t),e&&kt(n),e&&kt(l)}}}function dt(t){let e,n;return e=new Ot({props:{align:"center",$$slots:{default:[ft]},$$scope:{ctx:t}}}),{c(){Bt(e.$$.fragment)},l(t){St(e.$$.fragment,t)},m(t,l){Gt(e,t,l),n=!0},p(t,n){const l={};134217728&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ut(e.$$.fragment,t),n=!0)},o(t){Ht(e.$$.fragment,t),n=!1},d(t){Jt(e,t)}}}function pt(t){let e,n,l;return n=new ge({props:{buttonFunction:t[6],$$slots:{default:[dt]},$$scope:{ctx:t}}}),{c(){e=Nt("div"),Bt(n.$$.fragment),this.h()},l(t){e=Rt(t,"DIV",{slot:!0});var l=_t(e);St(n.$$.fragment,l),l.forEach(kt),this.h()},h(){Pt(e,"slot","create")},m(t,s){qt(t,e,s),Gt(n,e,null),l=!0},p(t,e){const l={};134217728&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(Ut(n.$$.fragment,t),l=!0)},o(t){Ht(n.$$.fragment,t),l=!1},d(t){t&&kt(e),Jt(n)}}}function mt(t){function e(e){t[11].call(null,e)}let n,l,s,o={classes:"my-2",type:"checkbox",id:"delete-all"};return void 0!==t[4]&&(o.value=t[4]),n=new he({props:o}),le.push(()=>se(n,"value",e)),{c(){Bt(n.$$.fragment)},l(t){St(n.$$.fragment,t)},m(t,e){Gt(n,t,e),s=!0},p(t,e){const s={};!l&&16&e&&(l=!0,s.value=t[4],oe(()=>l=!1)),n.$set(s)},i(t){s||(Ut(n.$$.fragment,t),s=!0)},o(t){Ht(n.$$.fragment,t),s=!1},d(t){Jt(n,t)}}}function ht(){let t;return{c(){t=Yt("delete")},l(e){t=te(e,"delete")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function gt(){let t;return{c(){t=Yt("edit")},l(e){t=te(e,"edit")},m(e,n){qt(e,t,n)},d(e){e&&kt(t)}}}function bt(t){function e(e){t[12].call(null,e,t[24])}function n(...e){return t[13](t[24],...e)}function l(...e){return t[14](t[24],...e)}let s,o,c,a,r,i,$,u,f,d={classes:"m-0.5",type:"checkbox",id:t[24].name+"-select"};return void 0!==t[24].ctx_delete&&(d.value=t[24].ctx_delete),s=new he({props:d}),le.push(()=>se(s,"value",e)),r=new FileOption({props:{title:"Löschen",background:"cmsErrorRed",optFunction:n,$$slots:{default:[ht]},$$scope:{ctx:t}}}),$=new FileOption({props:{title:"Bearbeiten",optFunction:l,$$slots:{default:[gt]},$$scope:{ctx:t}}}),{c(){Bt(s.$$.fragment),c=Mt(),a=Nt("div"),Bt(r.$$.fragment),i=Mt(),Bt($.$$.fragment),u=Mt()},l(t){St(s.$$.fragment,t),c=At(t),a=Rt(t,"DIV",{});var e=_t(a);St(r.$$.fragment,e),i=At(e),St($.$$.fragment,e),e.forEach(kt),u=At(t)},m(t,e){Gt(s,t,e),qt(t,c,e),qt(t,a,e),Gt(r,a,null),Tt(a,i),Gt($,a,null),qt(t,u,e),f=!0},p(e,c){t=e;const a={};2&c&&(a.id=t[24].name+"-select"),!o&&2&c&&(o=!0,a.value=t[24].ctx_delete,oe(()=>o=!1)),s.$set(a);const i={};2&c&&(i.optFunction=n),134217728&c&&(i.$$scope={dirty:c,ctx:t}),r.$set(i);const u={};2&c&&(u.optFunction=l),134217728&c&&(u.$$scope={dirty:c,ctx:t}),$.$set(u)},i(t){f||(Ut(s.$$.fragment,t),Ut(r.$$.fragment,t),Ut($.$$.fragment,t),f=!0)},o(t){Ht(s.$$.fragment,t),Ht(r.$$.fragment,t),Ht($.$$.fragment,t),f=!1},d(t){Jt(s,t),t&&kt(c),t&&kt(a),Jt(r),Jt($),t&&kt(u)}}}function yt(t){let e,n;return e=new DisplayMedia({props:{justify:"between",classes:"w-1/6 mr-2 h-auto",src:"http://localhost:8000/"+t[24].url,$$slots:{default:[bt]},$$scope:{ctx:t}}}),{c(){Bt(e.$$.fragment)},l(t){St(e.$$.fragment,t)},m(t,l){Gt(e,t,l),n=!0},p(t,n){const l={};2&n&&(l.src="http://localhost:8000/"+t[24].url),134217730&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(Ut(e.$$.fragment,t),n=!0)},o(t){Ht(e.$$.fragment,t),n=!1},d(t){Jt(e,t)}}}function vt(t){let e,n,l=t[1],s=[];for(let e=0;e<l.length;e+=1)s[e]=yt(ut(t,l,e));const o=t=>Ht(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=ae()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=ae()},m(t,l){for(let e=0;e<s.length;e+=1)s[e].m(t,l);qt(t,e,l),n=!0},p(t,n){if(1538&n){let c;for(l=t[1],c=0;c<l.length;c+=1){const o=ut(t,l,c);s[c]?(s[c].p(o,n),Ut(s[c],1)):(s[c]=yt(o),s[c].c(),Ut(s[c],1),s[c].m(e.parentNode,e))}for(re(),c=l.length;c<s.length;c+=1)o(c);ie()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)Ut(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Ht(s[t]);n=!1},d(t){ue(s,t),t&&kt(e)}}}function xt(t){let e,n,l,s,o=t[1].length>0&&mt(t);return l=new Ot({props:{classes:"w-full",align:"center",$$slots:{default:[vt]},$$scope:{ctx:t}}}),{c(){e=Mt(),o&&o.c(),n=Mt(),Bt(l.$$.fragment)},l(t){e=At(t),o&&o.l(t),n=At(t),St(l.$$.fragment,t)},m(t,c){qt(t,e,c),o&&o.m(t,c),qt(t,n,c),Gt(l,t,c),s=!0},p(t,e){t[1].length>0?o?(o.p(t,e),2&e&&Ut(o,1)):(o=mt(t),o.c(),Ut(o,1),o.m(n.parentNode,n)):o&&(re(),Ht(o,1,1,()=>{o=null}),ie());const s={};134217730&e&&(s.$$scope={dirty:e,ctx:t}),l.$set(s)},i(t){s||(Ut(o),Ut(l.$$.fragment,t),s=!0)},o(t){Ht(o),Ht(l.$$.fragment,t),s=!1},d(t){t&&kt(e),o&&o.d(t),t&&kt(n),Jt(l,t)}}}function wt(t){let e,n;return e=new EditMedia({props:{table:t[0],file:t[1][t[5]]}}),e.$on("saved",t[20]),e.$on("close",t[7]),e.$on("delete",t[21]),{c(){Bt(e.$$.fragment)},l(t){St(e.$$.fragment,t)},m(t,l){Gt(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.table=t[0]),34&n&&(l.file=t[1][t[5]]),e.$set(l)},i(t){n||(Ut(e.$$.fragment,t),n=!0)},o(t){Ht(e.$$.fragment,t),n=!1},d(t){Jt(e,t)}}}function Dt(t){let e,n;return e=new NewMedia({props:{table:t[0]}}),e.$on("close",t[7]),e.$on("uploaded",t[8]),{c(){Bt(e.$$.fragment)},l(t){St(e.$$.fragment,t)},m(t,l){Gt(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.table=t[0]),e.$set(l)},i(t){n||(Ut(e.$$.fragment,t),n=!0)},o(t){Ht(e.$$.fragment,t),n=!1},d(t){Jt(e,t)}}}function Et(t){function e(e){t[15].call(null,e)}function n(e){t[16].call(null,e)}function l(e){t[17].call(null,e)}function s(e){t[18].call(null,e)}function o(e){t[19].call(null,e)}function c(t){return"new"===t[5]?0:void 0!==t[5]?1:-1}let a,r,i,$,u,f,d,p,m,h,g,b={tableName:"files",$$slots:{default:[xt],create:[pt]},$$scope:{ctx:t}};void 0!==t[4]&&(b.deleteAll=t[4]),void 0!==t[2]&&(b.triggerDataReload=t[2]),void 0!==t[3]&&(b.triggerTableReload=t[3]),void 0!==t[0]&&(b.table=t[0]),void 0!==t[1]&&(b.data=t[1]),a=new be({props:b}),le.push(()=>se(a,"deleteAll",e)),le.push(()=>se(a,"triggerDataReload",n)),le.push(()=>se(a,"triggerTableReload",l)),le.push(()=>se(a,"table",s)),le.push(()=>se(a,"data",o));const y=[Dt,wt],v=[];return~(p=c(t))&&(m=v[p]=y[p](t)),{c(){Bt(a.$$.fragment),d=Mt(),m&&m.c(),h=ae()},l(t){St(a.$$.fragment,t),d=At(t),m&&m.l(t),h=ae()},m(t,e){Gt(a,t,e),qt(t,d,e),~p&&v[p].m(t,e),qt(t,h,e),g=!0},p(t,[e]){const n={};134217746&e&&(n.$$scope={dirty:e,ctx:t}),!r&&16&e&&(r=!0,n.deleteAll=t[4],oe(()=>r=!1)),!i&&4&e&&(i=!0,n.triggerDataReload=t[2],oe(()=>i=!1)),!$&&8&e&&($=!0,n.triggerTableReload=t[3],oe(()=>$=!1)),!u&&1&e&&(u=!0,n.table=t[0],oe(()=>u=!1)),!f&&2&e&&(f=!0,n.data=t[1],oe(()=>f=!1)),a.$set(n);let l=p;p=c(t),p===l?~p&&v[p].p(t,e):(m&&(re(),Ht(v[l],1,1,()=>{v[l]=null}),ie()),~p?(m=v[p],m||(m=v[p]=y[p](t),m.c()),Ut(m,1),m.m(h.parentNode,h)):m=null)},i(t){g||(Ut(a.$$.fragment,t),Ut(m),g=!0)},o(t){Ht(a.$$.fragment,t),Ht(m),g=!1},d(t){Jt(a,t),t&&kt(d),~p&&v[p].d(t),t&&kt(h)}}}function Ft(t,e,n){function l(){n(2,i=!0)}async function s(t){await ce(`http://localhost:8000/api/${c.table}?id=${t.id}`,"delete",{},!0),l()}function o(t){const e=a.indexOf(t);n(5,r=e)}let c,a,r,i=!1,$=!1,u=!1;return[c,a,i,$,u,r,function(){n(5,r="new")},function(){n(5,r=void 0)},function(){l(),n(3,$=!0)},s,o,function(t){u=t,n(4,u)},function(t,e){e.ctx_delete=t,n(1,a)},t=>{s(t)},t=>{o(t)},function(t){u=t,n(4,u)},function(t){i=t,n(2,i)},function(t){$=t,n(3,$)},function(t){c=t,n(0,c)},function(t){a=t,n(1,a)},t=>{n(1,a[r]=t.detail,a)},t=>{s(t.detail)}]}import{S as It,i as Vt,s as jt,F as Ot,e as Nt,b as Rt,d as _t,g as kt,k as Pt,m as qt,D as zt,c as Bt,a as Mt,j as St,h as At,x as Ct,n as Tt,o as Gt,E as Lt,p as Ut,q as Ht,r as Jt,a1 as Kt,a7 as Zt,a9 as Qt,a8 as Wt,I as Xt,t as Yt,f as te,N as ee,a0 as ne,K as le,M as se,O as oe,$ as ce,y as ae,G as re,H as ie,C as $e,z as ue,l as fe,u as de,_ as pe}from"./client.897a0b43.js";import{I as me,B as he}from"./Input.ec502a97.js";import"./EntriesFound.b7e247b4.js";import{B as ge}from"./Button.a01b7f4c.js";import"./TopNav.2681359b.js";import"./table.8f7a7926.js";import{T as be}from"./TableEntries.974dd934.js";import{m as ye,l as ve}from"./object.b0e10dc7.js";const xe=()=>({}),we=()=>({}),De=()=>({}),Ee=()=>({});class DisplayMedia extends It{constructor(t){super(),Vt(this,t,l,n,jt,{classes:0,src:1,square:2,justify:3})}}const Fe=()=>({}),Ie=()=>({}),Ve=()=>({}),je=()=>({});class FloatingCard extends It{constructor(t){super(),Vt(this,t,c,o,jt,{duration:0})}}class FileOption extends It{constructor(t){super(),Vt(this,t,r,a,jt,{classes:0,background:1,title:2,optFunction:3})}}class EditMedia extends It{constructor(t){super(),Vt(this,t,R,N,jt,{file:0,table:1})}}class NewMedia extends It{constructor(t){super(),Vt(this,t,$t,it,jt,{table:0})}}export default class Media extends It{constructor(t){super(),Vt(this,t,Ft,Et,jt,{})}}
