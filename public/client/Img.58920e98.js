function t(t,e,s){const n=t.slice();return n[10]=e[s],n}function e(t){let e,s;return e=new G({props:{classes:"h-full w-full",justify:"center",align:"center",$$slots:{default:[n]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,n){H(e,t,n),s=!0},p(t,s){const n={};8192&s&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){s||(V(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){K(e,t)}}}function s(t){let e,s,n,a;return e=new G({props:{classes:"mt-1",justify:"between",$$slots:{default:[l]},$$scope:{ctx:t}}}),n=new G({props:{classes:"w-full",align:"center",wrap:!0,$$slots:{default:[i]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment),s=g(),T(n.$$.fragment)},l(t){_(e.$$.fragment,t),s=I(t),_(n.$$.fragment,t)},m(t,r){H(e,t,r),M(t,s,r),H(n,t,r),a=!0},p(t,s){const a={};8200&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a);const r={};8200&s&&(r.$$scope={dirty:s,ctx:t}),n.$set(r)},i(t){a||(V(e.$$.fragment,t),V(n.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),k(n.$$.fragment,t),a=!1},d(t){K(e,t),t&&w(s),K(n,t)}}}function n(){let t,e;return t=new L({}),{c(){T(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(s,n){H(t,s,n),e=!0},i(s){e||(V(t.$$.fragment,s),e=!0)},o(s){k(t.$$.fragment,s),e=!1},d(e){K(t,e)}}}function a(){let t,e,s;return{c(){t=h("Nochmal laden\n\t\t\t\t\t\t"),e=m("div"),s=h("update"),this.h()},l(n){t=b(n,"Nochmal laden\n\t\t\t\t\t\t"),e=v(n,"DIV",{class:!0});var a=x(e);s=b(a,"update"),a.forEach(w),this.h()},h(){y(e,"class","ml-1 text-sm material-icons")},m(n,a){M(n,t,a),M(n,e,a),j(e,s)},d(s){s&&w(t),s&&w(e)}}}function r(t){let e,s;return e=new G({props:{align:"center",classes:"text-xss",$$slots:{default:[a]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,n){H(e,t,n),s=!0},p(t,s){const n={};8192&s&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){s||(V(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){K(e,t)}}}function l(t){let e,s,n,a;return e=new J({props:{classes:"mb-6",tableName:"Dateien",length:t[3].length}}),n=new O({props:{classes:"h-min-content ",buttonFunction:t[6],$$slots:{default:[r]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment),s=g(),T(n.$$.fragment)},l(t){_(e.$$.fragment,t),s=I(t),_(n.$$.fragment,t)},m(t,r){H(e,t,r),M(t,s,r),H(n,t,r),a=!0},p(t,s){const a={};8&s&&(a.length=t[3].length),e.$set(a);const r={};8192&s&&(r.$$scope={dirty:s,ctx:t}),n.$set(r)},i(t){a||(V(e.$$.fragment,t),V(n.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),k(n.$$.fragment,t),a=!1},d(t){K(e,t),t&&w(s),K(n,t)}}}function c(t){function e(...e){return t[7](t[10],...e)}let s,n,a,r;return{c(){s=m("img"),this.h()},l(t){s=v(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){s.src!==(n="/"+t[10].url)&&y(s,"src",n),y(s,"alt",""),y(s,"class","w-1/5 mb-2 mr-2 cursor-pointer hover")},m(t,n){M(t,s,n),a||(r=B(s,"click",e),a=!0)},p(e,a){t=e,8&a&&s.src!==(n="/"+t[10].url)&&y(s,"src",n)},d(t){t&&w(s),a=!1,r()}}}function i(e){let s,n=e[3],a=[];for(let s=0;s<n.length;s+=1)a[s]=c(t(e,n,s));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();s=Y()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);s=Y()},m(t,e){for(let s=0;s<a.length;s+=1)a[s].m(t,e);M(t,s,e)},p(e,r){if(40&r){let l;for(n=e[3],l=0;l<n.length;l+=1){const i=t(e,n,l);a[l]?a[l].p(i,r):(a[l]=c(i),a[l].c(),a[l].m(s.parentNode,s))}for(;l<a.length;l+=1)a[l].d(1);a.length=n.length}},d(t){Z(a,t),t&&w(s)}}}function o(t){function n(t){return void 0!==t[3]?0:1}let a,r,l,c,i,o,$,f,d,p;const u=[s,e],z=[];return o=n(t),$=z[o]=u[o](t),{c(){a=m("div"),r=m("div"),l=h("close"),c=g(),i=m("div"),$.c(),this.h()},l(t){var e,s,n;a=v(t,"DIV",{id:!0,class:!0,style:!0}),e=x(a),r=v(e,"DIV",{class:!0}),s=x(r),l=b(s,"close"),s.forEach(w),c=I(e),i=v(e,"DIV",{class:!0}),n=x(i),$.l(n),n.forEach(w),e.forEach(w),this.h()},h(){y(r,"class","float-right m-2 text-2xl text-gray-500 cursor-pointer material-icons"),y(i,"class","p-5"),y(a,"id",t[1]),y(a,"class","fixed duration-200 bg-white rounded-lg opacity-0 pointer-events-none shadow-cms-equal left-10 right-10 top-10 bottom-10 svelte-65rh8"),D(a,"z-index","100"),E(a,"visible",t[0])},m(e,s){M(e,a,s),j(a,r),j(r,l),j(a,c),j(a,i),z[o].m(i,null),t[8](a),f=!0,d||(p=B(r,"click",t[4]),d=!0)},p(t,[e]){let s=o;o=n(t),o===s?z[o].p(t,e):(N(),k(z[s],1,1,()=>{z[s]=null}),S(),$=z[o],$||($=z[o]=u[o](t),$.c()),V($,1),$.m(i,null)),(!f||2&e)&&y(a,"id",t[1]),1&e&&E(a,"visible",t[0])},i(t){f||(V($),f=!0)},o(t){k($),f=!1},d(e){e&&w(a),z[o].d(),t[8](null),d=!1,p()}}}function $(t,e,s){function n(){s(0,o=!1)}function a(t){l("selected",t),n()}let r;z(t,P,t=>s(3,r=t));const l=F();let c,{id:i}=e,{visible:o=!1}=e;return t.$$set=t=>{"id"in t&&s(1,i=t.id),"visible"in t&&s(0,o=t.visible)},[o,i,c,r,n,a,()=>{!async function(){const t=await A("/api/files?_norelations=true&public=true","get",{},!0);t.error||P.set(t.data.files)}()},t=>{a(t)},function(t){q[t?"unshift":"push"](()=>{c=t,s(2,c)})}]}import{Y as f,S as d,i as p,s as u,e as m,t as h,a as g,b as v,d as x,f as b,g as w,h as I,k as y,l as D,T as E,m as M,n as j,N as B,G as N,q as k,H as S,p as V,Z as z,I as F,K as q,F as G,c as T,j as _,o as H,r as K,_ as L,y as Y,z as Z,$ as A}from"./client.b007dbf1.js";import{I as C}from"./ShortText.0394cb61.js";import{E as J}from"./EntriesFound.0de26394.js";import{B as O}from"./Button.b1699f39.js";const P=f([]),Q=f({}),R=f({}),U=f([]);class SelectMedia extends d{constructor(t){super(),p(this,t,$,o,u,{id:1,visible:0})}}class Img extends C{constructor(t="https://www2.tuhh.de/zll/wp-content/uploads/placeholder.png"){super(t),this.type="img",this.description="",this.selectMediaID="edit-"+this.id}prepareInput(t,e){const s=t.getElementById(this.id),n=new SelectMedia({props:{id:this.selectMediaID},target:t.getElementById("app")});s.addEventListener("click",t=>{t.preventDefault(),n.$set({visible:!0})}),n.$on("selected",t=>{const s=t.detail;this.data="/"+s.url,this.description=s.description,e()})}save(t){const e=super.save(t);return e.description=this.description,e.selectMediaID=this.selectMediaID,e}deleteInput(t){t.getElementById(this.selectMediaID).remove()}}export{Img as I,R as a,U as c,P as f,Q as p};
