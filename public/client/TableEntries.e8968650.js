function t(t){function e(e){t[10].call(null,e)}let a,n,s,l={placeholder:"Suche...",inputClasses:"w-60",id:"search",type:"text"};return void 0!==t[2]&&(l.value=t[2]),a=new L({props:l}),P.push(()=>I(a,"value",e)),{c(){p(a.$$.fragment)},l(t){w(a.$$.fragment,t)},m(t,e){x(a,t,e),s=!0},p(t,e){const s={};!n&&4&e&&(n=!0,s.value=t[2],F(()=>n=!1)),a.$set(s)},i(t){s||(j(a.$$.fragment,t),s=!0)},o(t){N(a.$$.fragment,t),s=!1},d(t){R(a,t)}}}function e(t){let e,a,n,l,r,$;a=new B({props:{justify:"between",classes:"w-full",align:"start",$$slots:{default:[s]},$$scope:{ctx:t}}}),l=new B({props:{classes:"mt-2 mb-6 w-full",$$slots:{default:[c]},$$scope:{ctx:t}}});const o=t[9].default,i=C(o,t,t[11],null);return{c(){e=k("div"),p(a.$$.fragment),n=h(),p(l.$$.fragment),r=h(),i&&i.c(),this.h()},l(t){e=q(t,"DIV",{class:!0});var s=G(e);w(a.$$.fragment,s),n=y(s),w(l.$$.fragment,s),r=y(s),i&&i.l(s),s.forEach(A),this.h()},h(){H(e,"class","p-4 overflow-y-scroll min-h-full-minus-nav")},m(t,s){v(t,e,s),x(a,e,null),J(e,n),x(l,e,null),J(e,r),i&&i.m(e,null),$=!0},p(t,e){const n={};2051&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n);const s={};2056&e&&(s.$$scope={dirty:e,ctx:t}),l.$set(s),i&&i.p&&2048&e&&K(i,o,t,t[11],e,null,null)},i(t){$||(j(a.$$.fragment,t),j(l.$$.fragment,t),j(i,t),$=!0)},o(t){N(a.$$.fragment,t),N(l.$$.fragment,t),N(i,t),$=!1},d(t){t&&A(e),R(a),R(l),i&&i.d(t)}}}function a(t){let e,a;return e=new B({props:{classes:"w-full full-minus-nav",justify:"center",align:"center",$$slots:{default:[i]},$$scope:{ctx:t}}}),{c(){p(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){x(e,t,n),a=!0},p(t,a){const n={};2048&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(j(e.$$.fragment,t),a=!0)},o(t){N(e.$$.fragment,t),a=!1},d(t){R(e,t)}}}function n(t){let e;const a=t[9].create,n=C(a,t,t[11],et);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,a){n&&n.m(t,a),e=!0},p(t,e){n&&n.p&&2048&e&&K(n,a,t,t[11],e,tt,et)},i(t){e||(j(n,t),e=!0)},o(t){N(n,t),e=!1},d(t){n&&n.d(t)}}}function s(t){let e,a,s,l,r=!0===t[0].getPermissions().create;e=new Q({props:{tableName:t[0].table,length:t[1].length}});let $=r&&n(t);return{c(){p(e.$$.fragment),a=h(),$&&$.c(),s=b()},l(t){w(e.$$.fragment,t),a=y(t),$&&$.l(t),s=b()},m(t,n){x(e,t,n),v(t,a,n),$&&$.m(t,n),v(t,s,n),l=!0},p(t,a){const l={};1&a&&(l.tableName=t[0].table),2&a&&(l.length=t[1].length),e.$set(l),1&a&&(r=!0===t[0].getPermissions().create),r?$?($.p(t,a),1&a&&j($,1)):($=n(t),$.c(),j($,1),$.m(s.parentNode,s)):$&&(E(),N($,1,1,()=>{$=null}),T())},i(t){l||(j(e.$$.fragment,t),j($),l=!0)},o(t){N(e.$$.fragment,t),N($),l=!1},d(t){R(e,t),t&&A(a),$&&$.d(t),t&&A(s)}}}function l(t){let e,a;return e=new B({props:{align:"center",$$slots:{default:[o]},$$scope:{ctx:t}}}),{c(){p(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){x(e,t,n),a=!0},p(t,a){const n={};2056&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(j(e.$$.fragment,t),a=!0)},o(t){N(e.$$.fragment,t),a=!1},d(t){R(e,t)}}}function r(){let t,e,a,n,s;return{c(){t=k("span"),e=O("delete"),a=h(),n=k("p"),s=O("Ausgewählte löschen"),this.h()},l(l){var r,$;t=q(l,"SPAN",{class:!0}),r=G(t),e=V(r,"delete"),r.forEach(A),a=y(l),n=q(l,"P",{class:!0}),$=G(n),s=V($,"Ausgewählte löschen"),$.forEach(A),this.h()},h(){H(t,"class","mr-2 text-white material-icons"),H(n,"class","text-xss")},m(l,r){v(l,t,r),J(t,e),v(l,a,r),v(l,n,r),J(n,s)},d(e){e&&A(t),e&&A(a),e&&A(n)}}}function $(t){let e,a;return e=new B({props:{align:"center",$$slots:{default:[r]},$$scope:{ctx:t}}}),{c(){p(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){x(e,t,n),a=!0},p(t,a){const n={};2048&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(j(e.$$.fragment,t),a=!0)},o(t){N(e.$$.fragment,t),a=!1},d(t){R(e,t)}}}function o(t){let e,a,n,s,l,r,o,c=1===t[3]?"ausgewählter Eintrag":"ausgewählte Einträge";return r=new U({props:{color:"bg-cmsErrorRed ml-4",buttonFunction:t[4],$$slots:{default:[$]},$$scope:{ctx:t}}}),{c(){e=k("p"),a=O(t[3]),n=h(),s=O(c),l=h(),p(r.$$.fragment),this.h()},l($){e=q($,"P",{class:!0});var o=G(e);a=V(o,t[3]),n=y(o),s=V(o,c),o.forEach(A),l=y($),w(r.$$.fragment,$),this.h()},h(){H(e,"class","font-bold text-xss")},m(t,$){v(t,e,$),J(e,a),J(e,n),J(e,s),v(t,l,$),x(r,t,$),o=!0},p(t,e){(!o||8&e)&&z(a,t[3]),(!o||8&e)&&c!==(c=1===t[3]?"ausgewählter Eintrag":"ausgewählte Einträge")&&z(s,c);const n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i(t){o||(j(r.$$.fragment,t),o=!0)},o(t){N(r.$$.fragment,t),o=!1},d(t){t&&A(e),t&&A(l),R(r,t)}}}function c(t){let e,a,n=t[3]>0&&l(t);const s=t[9].config,r=C(s,t,t[11],Z);return{c(){n&&n.c(),e=h(),r&&r.c()},l(t){n&&n.l(t),e=y(t),r&&r.l(t)},m(t,s){n&&n.m(t,s),v(t,e,s),r&&r.m(t,s),a=!0},p(t,a){t[3]>0?n?(n.p(t,a),8&a&&j(n,1)):(n=l(t),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(E(),N(n,1,1,()=>{n=null}),T()),r&&r.p&&2048&a&&K(r,s,t,t[11],a,Y,Z)},i(t){a||(j(n),j(r,t),a=!0)},o(t){N(n),N(r,t),a=!1},d(t){n&&n.d(t),t&&A(e),r&&r.d(t)}}}function i(){let t,e;return t=new M({}),{c(){p(t.$$.fragment)},l(e){w(t.$$.fragment,e)},m(a,n){x(t,a,n),e=!0},i(a){e||(j(t.$$.fragment,a),e=!0)},o(a){N(t.$$.fragment,a),e=!1},d(e){R(t,e)}}}function f(n){function s(t){return void 0===t[1]?0:void 0!==t[0]&&void 0!==t[1]?1:-1}let l,r,$,o,c,i;l=new W({props:{$$slots:{default:[t]},$$scope:{ctx:n}}});const f=[a,e],d=[];return~($=s(n))&&(o=d[$]=f[$](n)),{c(){p(l.$$.fragment),r=h(),o&&o.c(),c=b()},l(t){w(l.$$.fragment,t),r=y(t),o&&o.l(t),c=b()},m(t,e){x(l,t,e),v(t,r,e),~$&&d[$].m(t,e),v(t,c,e),i=!0},p(t,[e]){const a={};2052&e&&(a.$$scope={dirty:e,ctx:t}),l.$set(a);let n=$;$=s(t),$===n?~$&&d[$].p(t,e):(o&&(E(),N(d[n],1,1,()=>{d[n]=null}),T()),~$?(o=d[$],o||(o=d[$]=f[$](t),o.c()),j(o,1),o.m(c.parentNode,c)):o=null)},i(t){i||(j(l.$$.fragment,t),j(o),i=!0)},o(t){N(l.$$.fragment,t),N(o),i=!1},d(t){R(l,t),t&&A(r),~$&&d[$].d(t),t&&A(c)}}}function d(t,e,a){function n(){void 0!==m&&m.forEach((t,e)=>{a(1,m[e].ctx_delete=g,m)})}async function s(t){a(1,m=void 0);let e=`/api/${u}?_norelations=true`;void 0!==t&&t.forEach(t=>{e=`${e}&${t}`});const s=await S(e,"get",{},!0);s.error||(a(1,m=s.data[u]),n())}async function l(){a(0,d=void 0);const t=await S("/api/tables?table="+u,"get",{},!0);t.error||a(0,d=new X(t.data.tables[0]))}async function r(){await s(),await l(),c("fetched",{})}let{$$slots:$={},$$scope:o}=e;const c=D();let i,f="",{table:d}=e,{data:m}=e,{tableName:u}=e,{deleteAll:g=!1}=e,{triggerDataReload:p=!1}=e,{triggerTableReload:h=!1}=e,b=!1;return _(()=>{b=!0,r()}),t.$$set=t=>{"table"in t&&a(0,d=t.table),"data"in t&&a(1,m=t.data),"tableName"in t&&a(7,u=t.tableName),"deleteAll"in t&&a(8,g=t.deleteAll),"triggerDataReload"in t&&a(5,p=t.triggerDataReload),"triggerTableReload"in t&&a(6,h=t.triggerTableReload),"$$scope"in t&&a(11,o=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&a(3,i=void 0!==m?m.filter(t=>!0===t.ctx_delete).length:0),4&t.$$.dirty&&async function(){!1!==b&&s(["_search="+f])}(),256&t.$$.dirty&&n(),128&t.$$.dirty&&async function(){!1!==b&&(a(1,m=void 0),a(0,d=void 0),r())}(),32&t.$$.dirty&&async function(){!1!==b&&!1!==p&&(a(1,m=void 0),await s(),a(5,p=!1))}(),64&t.$$.dirty&&async function(){!1!==b&&!1!==h&&(a(0,d=void 0),await l(),a(6,h=!1))}()},[d,m,f,i,async function(){const t=m.filter(t=>!0===t.ctx_delete).map(t=>t.id);await S("/api/"+u,"delete",{ids:t},!0),a(5,p=!0)},p,h,u,g,$,function(t){f=t,a(2,f)},o]}import{S as m,i as u,s as g,c as p,a as h,y as b,j as w,h as y,o as x,m as v,G as E,q as N,H as T,p as j,r as R,g as A,I as D,J as _,K as P,M as I,O as F,$ as S,F as B,D as C,e as k,b as q,d as G,k as H,n as J,E as K,_ as M,t as O,f as V,C as z}from"./client.b007dbf1.js";import{I as L}from"./Input.9fb47177.js";import{E as Q}from"./EntriesFound.0de26394.js";import{B as U}from"./Button.b1699f39.js";import{T as W}from"./TopNav.65515bb5.js";import{T as X}from"./table.f0d17de5.js";const Y=()=>({}),Z=()=>({}),tt=()=>({}),et=()=>({});class TableEntries extends m{constructor(t){super(),u(this,t,d,f,g,{table:0,data:1,tableName:7,deleteAll:8,triggerDataReload:5,triggerTableReload:6})}}export{TableEntries as T};
